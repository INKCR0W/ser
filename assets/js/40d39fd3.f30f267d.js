"use strict";(self.webpackChunkser=self.webpackChunkser||[]).push([[3790],{7698:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>o});var i=s(4848),t=s(8453);const r={sidebar_position:11},a=void 0,d={id:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/11\u3001mysql\u670d\u52a1 \u221a",title:"11\u3001mysql\u670d\u52a1 \u221a",description:"mysql\u670d\u52a1",source:"@site/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/11\u3001mysql\u670d\u52a1 \u221a.md",sourceDirName:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e",slug:"/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/11\u3001mysql\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/11\u3001mysql\u670d\u52a1 \u221a",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"10\u3001mariadb\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/10\u3001mariadb\u670d\u52a1 \u221a"},next:{title:"12\u3001podman\u670d\u52a1x86 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/12\u3001podman\u670d\u52a1x86 \u221a"}},l={},o=[{value:"1\u5c0f\u9898",id:"1\u5c0f\u9898",level:2},{value:"2\u5c0f\u9898",id:"2\u5c0f\u9898",level:2},{value:"3\u5c0f\u9898",id:"3\u5c0f\u9898",level:2},{value:"4\u5c0f\u9898",id:"4\u5c0f\u9898",level:2},{value:"5\u5c0f\u9898",id:"5\u5c0f\u9898",level:2},{value:"6\u5c0f\u9898",id:"6\u5c0f\u9898",level:2},{value:"7\u5c0f\u9898",id:"7\u5c0f\u9898",level:2}];function c(e){const n={code:"code",em:"em",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"mysql\u670d\u52a1\n\u4efb\u52a1\u63cf\u8ff0\uff1a\u8bf7\u5b89\u88c5mysql\u670d\u52a1\uff0c\u5efa\u7acb\u6570\u636e\u8868\u3002\n\uff081\uff09\u914d\u7f6elinux2\u4e3amysql\u670d\u52a1\u5668\uff0c\u521b\u5efa\u6570\u636e\u5e93\u7528\u6237xiao\uff0c\u5728\u4efb\u610f\u673a\u5668\u4e0a\u5bf9\u6240\u6709\u6570\u636e\u5e93\u6709\u5b8c\u5168\u6743\u9650\u3002\n\uff082\uff09\u521b\u5efa\u6570\u636e\u5e93userdb\uff1b\u5728\u5e93\u4e2d\u521b\u5efa\u8868userinfo\uff0c\u8868\u7ed3\u6784\u5982\u4e0b\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5b57\u6bb5\u540d"}),(0,i.jsx)(n.th,{children:"\u6570\u636e\u7c7b\u578b"}),(0,i.jsx)(n.th,{children:"\u4e3b\u952e"}),(0,i.jsx)(n.th,{children:"\u81ea\u589e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{children:"\u662f"}),(0,i.jsx)(n.td,{children:"\u662f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:"varchar(10)"}),(0,i.jsx)(n.td,{children:"\u5426"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"birthday"}),(0,i.jsx)(n.td,{children:"datetime"}),(0,i.jsx)(n.td,{children:"\u5426"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sex"}),(0,i.jsx)(n.td,{children:"varchar(5)"}),(0,i.jsx)(n.td,{children:"\u5426"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"password"}),(0,i.jsx)(n.td,{children:"varchar(200)"}),(0,i.jsx)(n.td,{children:"\u5426"}),(0,i.jsx)(n.td,{children:"\u5426"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\uff083\uff09\u5728\u8868\u4e2d\u63d2\u51652\u6761\u8bb0\u5f55\uff0c\u5206\u522b\u4e3a(1,user1\uff0c1999-07-01\uff0c\u7537)\uff0c(2,user2\uff0c1999-07-02\uff0c\u5973)\uff0cpassword\u4e0ename\u76f8\u540c\uff0cpassword\u5b57\u6bb5\u7528password\u51fd\u6570\u52a0\u5bc6\u3002\n\uff084\uff09\u4fee\u6539\u8868userinfo\u7684\u7ed3\u6784\uff0c\u5728name\u5b57\u6bb5\u540e\u6dfb\u52a0\u65b0\u5b57\u6bb5height(\u6570\u636e\u7c7b\u578b\u4e3afloat)\uff0c\u66f4\u65b0user1\u548cuser2\u7684height\u5b57\u6bb5\u5185\u5bb9\u4e3a1.61\u548c1.62\u3002\n\uff085\uff09\u65b0\u5efa/var/mysqlbak/userinfo.txt\u6587\u4ef6\uff0c\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u5185\u5bb9\u5bfc\u5165\u5230userinfo\u8868\u4e2d\uff0cpassword\u5b57\u6bb5\u7528password\u51fd\u6570\u52a0\u5bc6\u3002\n3,user3,1.63,1999-07-03,\u5973,user3\n4,user4,1.64,1999-07-04,\u7537,user4\n5,user5,1.65,1999-07-05,\u7537,user5\n6,user6,1.66,1999-07-06,\u5973,user6\n7,user7,1.67,1999-07-07,\u5973,user7\n8,user8,1.68,1999-07-08,\u7537,user8\n9,user9,1.69,1999-07-09,\u5973,user9\n\uff086\uff09\u5c06\u8868userinfo\u7684\u8bb0\u5f55\u5bfc\u51fa\uff0c\u5b58\u653e\u5230/var/databak/mysql.sql\uff0c\u5b57\u6bb5\u4e4b\u95f4\u7528','\u5206\u9694\u3002\n\uff087\uff09\u6bcf\u5468\u4e94\u51cc\u66681:00\u4ee5root\u7528\u6237\u8eab\u4efd\u5907\u4efd\u6570\u636e\u5e93userdb\u5230/var/databak/userdb.sql(\u542b\u521b\u5efa\u6570\u636e\u5e93\u547d\u4ee4)\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"1\u5c0f\u9898",children:"1\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["yum install mysql-server.x86_64\nsystemctl start mysqld\nmysql_secure_installation\nmysql -u root -p\ncreate user 'xiao'@'%' identified by '123456';\ngrant all privileges on ",(0,i.jsx)(n.em,{children:"."})," to 'xiao'@'%';\nflush privileges;"]}),"\n",(0,i.jsx)(n.h2,{id:"2\u5c0f\u9898",children:"2\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["create database userdb charset utf8;\nuse userdb;\ncreate table userinfo(id int auto_increment,name varchar(10),birthday datetime,sex varchar(5),password varchar(200),primary key(id));\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690026980947-478adefe-28b0-4221-9fc9-7e0f4ad0ddaf.png#averageHue=%230f0c0a&clientId=u5ed4c0a2-0a89-4&from=paste&height=264&id=u3acbf75d&originHeight=264&originWidth=951&originalType=binary&ratio=1&rotation=0&showTitle=false&size=22017&status=done&style=none&taskId=ubd67e3c8-35b6-45d1-9a52-2970aad8c19&title=&width=951",alt:"image.png"})]}),"\n",(0,i.jsx)(n.h2,{id:"3\u5c0f\u9898",children:"3\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6ce8\uff1amysql8.0\u7248\u672c\u53d6\u6d88\u4e86password\u51fd\u6570\u52a0\u5bc6\uff0c\u53ef\u9009\u52a0\u5bc6\u65b9\u5f0f\u6709md5/SHA\u7b49"}),"\ninsert into userinfo(id,name,birthday,sex,password) values ('1','user1','1999-7-1','\u7537',md5('user1'));\ninsert into userinfo(id,name,birthday,sex,password) values ('2','user1','1999-7-1','\u5973',md5('user2'));\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690027312827-4d48e089-c189-4951-9cd6-a047772ff872.png#averageHue=%23110f0d&clientId=u5ed4c0a2-0a89-4&from=paste&height=203&id=ud543d5b0&originHeight=203&originWidth=1105&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17817&status=done&style=none&taskId=ue371f4d0-ecfd-4eef-a807-2407f87da3d&title=&width=1105",alt:"image.png"})]}),"\n",(0,i.jsx)(n.h2,{id:"4\u5c0f\u9898",children:"4\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["alter table userinfo add height float after name;\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690027364557-d2648faa-fe67-4ad3-804c-5707e3b375c2.png#averageHue=%230e0b09&clientId=u5ed4c0a2-0a89-4&from=paste&height=297&id=uf0725bd3&originHeight=297&originWidth=962&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24123&status=done&style=none&taskId=u8eb5662c-6ef5-48f3-bbac-d0a5930393d&title=&width=962",alt:"image.png"}),'\nupdate userinfo set height=1.61 where name="user1";\nupdate userinfo set height=1.62 where name="user2";\n',(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690027464769-c6eb33ab-1ad5-4110-9c10-9cf4407b3510.png#averageHue=%23120f0d&clientId=u5ed4c0a2-0a89-4&from=paste&height=193&id=u8ae5c274&originHeight=193&originWidth=1227&originalType=binary&ratio=1&rotation=0&showTitle=false&size=19351&status=done&style=none&taskId=u819870b5-0306-47b5-8a0d-11d7a05a637&title=&width=1227",alt:"image.png"})]}),"\n",(0,i.jsx)(n.h2,{id:"5\u5c0f\u9898",children:"5\u5c0f\u9898"}),"\n",(0,i.jsx)(n.p,{children:"mkdir -p /var/mysqlbak/\ntouch /var/mysqlbak/userinfo.txt\nchmod 777 /var/mysqlbak/userinfo.txt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"3,user3,1.63,1999-07-03,\u5973,user3\n4,user4,1.64,1999-07-04,\u7537,user4\n5,user5,1.65,1999-07-05,\u7537,user5\n6,user6,1.66,1999-07-06,\u5973,user6\n7,user7,1.67,1999-07-07,\u5973,user7\n8,user8,1.68,1999-07-08,\u7537,user8\n9,user9,1.69,1999-07-09,\u5973,user9\n"})}),"\n",(0,i.jsxs)(n.p,{children:["mysql -u root\nmysql> use userdb;\nSET GLOBAL local_infile = true;  #\u542f\u7528\u6216\u7981\u7528\u672c\u5730\u6570\u636e\u52a0\u8f7d\u529f\u80fd\uff0c\u6b64\u8bbe\u7f6e\u4e3a\u5355\u6b21\uff0c\u91cd\u542fmysql\u4e4b\u540e\u5931\u6548\nSHOW GLOBAL VARIABLES LIKE 'local_infile';  #\u67e5\u770blocal_infile \u72b6\u6001\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690030278043-5147775e-3bbb-4b39-acac-1a944c705417.png#averageHue=%230d0b0a&clientId=u5ed4c0a2-0a89-4&from=paste&height=178&id=u039bfcd1&originHeight=178&originWidth=693&originalType=binary&ratio=1&rotation=0&showTitle=false&size=10020&status=done&style=none&taskId=u5a3d90f3-89e9-45d0-b64c-17bd29e0cbe&title=&width=693",alt:"image.png"}),"\n\u5bfc\u5165userinfo\u5185\u8bb0\u5f55\u5e76md5\u52a0\u5bc6password\u5b57\u6bb5load data local infile '/var/mysqlbak/userinfo.txt' into table userinfo fields terminated by ',' lines terminated by '\\n' (id,name,height,birthday,sex,password) set password=md5(password);\nmysql> select * from userinfo;\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690030865886-4b6125f4-fa69-40fd-8fe3-ea9332ebe932.png#averageHue=%23191511&clientId=u5ed4c0a2-0a89-4&from=paste&height=369&id=u5a5b0f8f&originHeight=369&originWidth=1230&originalType=binary&ratio=1&rotation=0&showTitle=false&size=52249&status=done&style=none&taskId=uddae888b-56f8-4b27-9c55-c599bf9f905&title=&width=1230",alt:"image.png"})]}),"\n",(0,i.jsx)(n.h2,{id:"6\u5c0f\u9898",children:"6\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["mkdir -p /var/databak/\nchmod 777 /var/databak/\nvi /etc/my.cnf.d/mysql-server.cnf \u5728[mysqld]\u4e0b\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\nsecure-file-priv=/var/databak/\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690031329973-cef19e79-b4dd-4c01-986c-608e4e81839e.png#averageHue=%23100e0c&clientId=u5ed4c0a2-0a89-4&from=paste&height=172&id=ua337a0e8&originHeight=172&originWidth=693&originalType=binary&ratio=1&rotation=0&showTitle=false&size=10477&status=done&style=none&taskId=ud69319ad-49ac-41ea-a5c4-de13978519f&title=&width=693",alt:"image.png"}),"\nmysql> select * from  userinfo into outfile '/var/databak/mysql.sql' fields terminated by ',';\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690031362954-72e97fbc-ab09-498f-a301-b794926a685e.png#averageHue=%2317110c&clientId=u5ed4c0a2-0a89-4&from=paste&height=407&id=u52ebbbd4&originHeight=407&originWidth=1223&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65385&status=done&style=none&taskId=udbac0e86-ca0f-4b11-9f13-26d8c70cbf3&title=&width=1223",alt:"image.png"})]}),"\n",(0,i.jsx)(n.h2,{id:"7\u5c0f\u9898",children:"7\u5c0f\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["touch userdb.sql\nchmod 777 userdb.sql\ncrontab -u root -e  #\u5199\u5165\u4ee5\u4e0b\u5185\u5bb90 1 * * 5 mysqldump -u root -p123456 userdb > /var/databak/userdb.sql\n",(0,i.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1690032639790-8c9f59f0-cf32-42d9-857c-e4d0a89f18a4.png#averageHue=%23161310&clientId=u5ed4c0a2-0a89-4&from=paste&height=54&id=u6ae77455&originHeight=54&originWidth=974&originalType=binary&ratio=1&rotation=0&showTitle=false&size=7232&status=done&style=none&taskId=ua588ad41-3817-4cf8-905f-7902a5c673d&title=&width=974",alt:"image.png"}),'\ndate -s "2023-7-22 00:59:57"   #\u8bbe\u7f6e\u65f6\u95f4']})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);