"use strict";(self.webpackChunkser=self.webpackChunkser||[]).push([[6125],{3351:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>o});var t=r(4848),i=r(8453);const s={sidebar_position:2},c=void 0,a={id:"\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e8c\u3001\u4ea4\u6362\u914d\u7f6e",title:"\u4e8c\u3001\u4ea4\u6362\u914d\u7f6e",description:"1\u5c0f\u9898",source:"@site/docs/\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e8c\u3001\u4ea4\u6362\u914d\u7f6e.md",sourceDirName:"\u4e00\u3001\u7f51\u7edc\u6a21\u5757",slug:"/\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e8c\u3001\u4ea4\u6362\u914d\u7f6e",permalink:"/docs/\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e8c\u3001\u4ea4\u6362\u914d\u7f6e",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u4e00\u3001\u5de5\u7a0b\u7edf\u7b79",permalink:"/docs/\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e00\u3001\u5de5\u7a0b\u7edf\u7b79"},next:{title:"\u4e09\u3001\u8def\u7531\u8c03\u8bd5",permalink:"/docs/\u4e00\u3001\u7f51\u7edc\u6a21\u5757/\u4e09\u3001\u8def\u7531\u8c03\u8bd5"}},l={},o=[{value:"1\u5c0f\u9898",id:"1\u5c0f\u9898",level:2},{value:"2\u5c0f\u9898",id:"2\u5c0f\u9898",level:2},{value:"3\u5c0f\u9898",id:"3\u5c0f\u9898",level:2},{value:"4\u5c0f\u9898",id:"4\u5c0f\u9898",level:2},{value:"5\u5c0f\u9898",id:"5\u5c0f\u9898",level:2},{value:"6\u5c0f\u9898",id:"6\u5c0f\u9898",level:2},{value:"7\u5c0f\u9898",id:"7\u5c0f\u9898",level:2},{value:"8\u5c0f\u9898",id:"8\u5c0f\u9898",level:2}];function d(n){const e={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"1\u5c0f\u9898",children:"1\u5c0f\u9898"}),"\n",(0,t.jsxs)(e.p,{children:["1.\u914d\u7f6e SW1\u3001SW2\u3001SW3 \u7684 Vlan\uff0c\u4e8c\u5c42\u94fe\u8def\u53ea\u5141\u8bb8\u4e0b\u9762 Vlan \u901a\u8fc7\uff0c\u4e0d\u9650\u5236 vlan1\u3002\uff08\u8fd9\u4e2a\u7b2c\u4e8c\u9898\u6709\u8981\u6c42\uff09\n",(0,t.jsx)(e.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1708063099540-2623d3d5-127c-4647-9dff-43c5e5563cd1.png#averageHue=%23eeedec&clientId=u6a3e82b2-db38-4&from=paste&height=230&id=u821f7347&originHeight=287&originWidth=637&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52053&status=done&style=none&taskId=ucc48fc8e-dd51-40cf-af7f-a08e35b582c&title=&width=509.6",alt:"image.png"}),"\n",(0,t.jsx)(e.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1708063117490-64e3db1c-3de2-44d2-85c2-b959778a4d94.png#averageHue=%23f0eeed&clientId=u6a3e82b2-db38-4&from=paste&height=291&id=u31ea61ac&originHeight=364&originWidth=636&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68616&status=done&style=none&taskId=u474b2618-c942-478d-8933-8b851fd6d1b&title=&width=508.8",alt:"image.png"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5168\u5c40\u914d\u7f6e\u6a21\u5f0f\u4e0b\u8fde\u7eed\u8f93\u5165\nVLAN 11  #\u521b\u5efaVLAN 11\nNAME CP1 #VLAN\u540d\u79f0\u4e3aCP1\nswitchport interface ethernet 1/0/1 #\u52a0\u5165\u7aef\u53e3e1/0/1\n\nVLAN 12\nNAME YX1\nswitchport interface ethernet 1/0/2\n\nVLAN 13\nNAME FW1\nswitchport interface ethernet 1/0/3\n\nVLAN 14\nNAME RL1\nswitchport interface ethernet 1/0/4\n\nVLAN 15\nNAME CW1\nswitchport interface ethernet 1/0/5\n\nSW1\u6269\u5c55\u914d\u7f6e\nVLAN 1019\nswitchport interface ethernet 1/0/19\n\nVLAN 1020\nswitchport interface ethernet 1/0/20\n\nVLAN 1023\nswitchport interface ethernet 1/0/23\n\nVLAN 1024\nswitchport interface ethernet 1/0/24\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5168\u5c40\u914d\u7f6e\u6a21\u5f0f\u4e0b\u8fde\u7eed\u8f93\u5165\nVLAN 21  #\u521b\u5efaVLAN 21\nNAME CP2 #VLAN\u540d\u79f0\u4e3aCP2\nswitchport interface ethernet 1/0/1 #\u52a0\u5165\u7aef\u53e3e1/0/1\n\nVLAN 22\nNAME YX2\nswitchport interface ethernet 1/0/2\n\nVLAN 23\nNAME FW2\nswitchport interface ethernet 1/0/3\n\nVLAN 24\nNAME RL2\nswitchport interface ethernet 1/0/4\n\nVLAN 25\nNAME CW2\nswitchport interface ethernet 1/0/5\n\nSW2\u6269\u5c55\u914d\u7f6e\nVLAN 1019\nswitchport interface ethernet 1/0/19\n\nVLAN 1020\nswitchport interface ethernet 1/0/20\n\nVLAN 1023\nswitchport interface ethernet 1/0/23\n\nVLAN 1024\nswitchport interface ethernet 1/0/24\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5168\u5c40\u914d\u7f6e\u6a21\u5f0f\u4e0b\u8fde\u7eed\u8f93\u5165\nVLAN 31  #\u521b\u5efaVLAN 31\nNAME CP3 #VLAN\u540d\u79f0\u4e3aCP3\nswitchport interface ethernet 1/0/1 #\u52a0\u5165\u7aef\u53e3e1/0/1\n\nVLAN 32\nNAME YX3\nswitchport interface ethernet 1/0/2\n\nVLAN 33\nNAME FW3\nswitchport interface ethernet 1/0/3\n\nVLAN 34\nNAME RL3\nswitchport interface ethernet 1/0/4\n\nVLAN 110\nNAME BSCCP\nswitchport interface ethernet 1/0/11\n\nVLAN 120\nNAME BSCYX\nswitchport interface ethernet 1/0/12\n\nVLAN 1019\nswitchport interface ethernet 1/0/19\n\nVLAN 1020\nswitchport interface ethernet 1/0/20\n\nSW3\u6269\u5c55\u914d\u7f6e\nVLAN 1015\nswitchport interface ethernet 1/0/15\n\nVLAN 1017\nswitchport interface ethernet 1/0/15\n\nVLAN 1018\nswitchport interface ethernet 1/0/15\n"})}),"\n",(0,t.jsx)(e.h2,{id:"2\u5c0f\u9898",children:"2\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"2.SW1 \u548c SW2 \u4e4b\u95f4\u5229\u7528\u4e09\u6761\u88f8\u5149\u7f06\u5b9e\u73b0\u4e92\u901a\uff0c\u5176\u4e2d\u4e00\u6761\u88f8\u5149\u7f06\u627f\u8f7d\u4e09\u5c42 IP \u4e1a\u52a1\u3001\u4e00\u6761\u88f8\u5149\u7f06\u627f\u8f7d VPN \u4e1a\u52a1\u3001\u4e00\u6761\u88f8\u5149\u7f06\u627f\u8f7d\u4e8c\u5c42\u4e1a\u52a1\u3002 \u7528\u76f8\u5173\u6280\u672f\u5206\u522b\u5b9e\u73b0\u8d22\u52a1 1 \u6bb5\u3001\u8d22\u52a1 2 \u6bb5\u4e1a\u52a1\u8def\u7531\u8868\u4e0e\u5176\u5b83\u4e1a\u52a1\u8def\u7531\u8868\u9694\u79bb\uff0c\u8d22\u52a1\u4e1a\u52a1 VPN \u5b9e\u4f8b\u540d\u79f0\u4e3a Finance\uff0cRD \u4e3a 1:1\u3002\u627f\u8f7d\u4e8c\u5c42\u4e1a\u52a1\u7684\u53ea\u6709\u4e00\u6761\u88f8\u5149\u7f06\u901a\u9053\uff0c\u914d\u7f6e\u76f8\u5173\u6280\u672f\uff0c\u65b9\u4fbf\u540e\u7eed\u94fe\u8def\u6269\u5bb9\u4e0e\u5197\u4f59\u5907\u4efd\uff0c\u7f16\u53f7\u4e3a 1\uff0c\u7528 LACP \u534f\u8bae\uff0cSW1 \u4e3a active\uff0cSW2 \u4e3a passive\uff1b\u91c7 \u7528\u76ee\u7684\u3001\u6e90 IP \u8fdb\u884c\u5b9e\u73b0\u6d41\u91cf\u8d1f\u8f7d\u5206\u62c5\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"vrf\u914d\u7f6e\nip vrf Finance #\u521b\u5efavrf\u5b9e\u4f8b\nrd 1:1         #\u914d\u7f6eRD\n\nint vlan 15 #\u8fdb\u5165\u8d22\u52a11\u6bb5\u5bf9\u5e94VLAN\nip vrf forwarding Finance #\u5173\u8054VLAN15\u5230Finace\u8f6c\u53d1\u5b9e\u4f8b\n\nint vlan 1024 #VLAN 1024\u662fSW1-SW2\u7528\u6765\u627f\u8f7dVPN\u4e1a\u52a1\u7684\nip vrf forwarding Finance #\u5173\u8054VLAN 1024\u5230Finace\u8f6c\u53d1\u5b9e\u4f8b\n\ninterface Loopback2 \t\t\t#\u7528\u4e8eBGP\u4e2d\u7684\u8981\u6c42\nip vrf forwarding Finance\n\n\u7aef\u53e3\u6c47\u805a\nport-group 1  #\u521b\u5efa\u7aef\u53e3\u6c47\u805a\u7ec4\uff0c\u7f16\u53f7\u4e3a1\nint e1/0/22 #22\u53e3\u662f\u4e8c\u5c42\u4e1a\u52a1\u7684\u7aef\u53e3\nport-group 1 mode active  #\u6c47\u805a\u7ec41\uff0c\u4e3b\u52a8\u53d1\u8d77\u6c47\u805a\nexit\n\nint port-channel 1\nswitchport mode trunk\nswitchport trunk allowed vlan 11-15\n\nload-balance dst-src-ip  #\u6d41\u91cf\u5206\u62c5\u6a21\u5f0f\u4e3a\u76ee\u7684\u3001\u6e90IP\u65b9\u5f0f\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"ip vrf Finance #\u521b\u5efavrf\u5b9e\u4f8b\nrd 1:1         #\u914d\u7f6eRD\n\nint vlan 25 #\u8fdb\u5165\u8d22\u52a12\u6bb5\u5bf9\u5e94VLAN\nip vrf forwarding Finance #\u5173\u8054VLAN15\u5230Finace\u8f6c\u53d1\u5b9e\u4f8b\n\nint vlan 1024 #VLAN 1024\u662fSW1-SW2\u7528\u6765\u627f\u8f7dVPN\u4e1a\u52a1\u7684\nip vrf forwarding Finance #\u5173\u8054VLAN 1024\u5230Finace\u8f6c\u53d1\u5b9e\u4f8b\n\ninterface Loopback2 \t\t\t#\u7528\u4e8eBGP\u4e2d\u7684\u8981\u6c42\nip vrf forwarding Finance\n\nport-group 1\nint e1/0/22\nport-group 1 mode passive\nexit\n\nint port-channel 1\nswitchport mode trunk\nswitchport trunk allowed vlan 21-25\n\nload-balance dst-src-ip\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u91ca\u4e491\u3001VRF\uff08Virtual Routing and Rorwarding\uff0c\u865a\u62df\u8def\u7531\u8f6c\u53d1\uff09\u6280\u672f\u901a\u8fc7\u5728\u4e00\u53f0\u4e09\u5c42\u8f6c\u53d1\u8bbe\u5907\u4e0a\u521b\u5efa\u591a\u5f20\u8def\u7531\u8868\u5b9e\u73b0\u6570\u636e\u6216\u4e1a\u52a1\u7684\u9694\u79bb\uff0c\u5e38\u7528\u4e8eMPLS VPN\u3001\u9632\u706b\u5899\u7b49\u4e00\u4e9b\u9700\u8981\u5b9e\u73b0\u9694\u79bb\u7684\u5e94\u7528\u573a\u666f\u3002"}),"\n",(0,t.jsx)(e.p,{children:"2\u3001LACP\uff08\u94fe\u8def\u6c47\u805a\u63a7\u5236\u534f\u8bae\uff09"}),"\n",(0,t.jsx)(e.p,{children:"3\u3001loopback\u53e3\u4f5c\u7528\uff1a\n3.1 \u5efa\u7acb\u8def\u7531\u90bb\u5c45\uff1b\n3.2 \u4f5c\u4e3aRouter-ID\uff1b\n3.3 \u865a\u62df\u96a7\u9053\u8fde\u63a5\uff1b\n3.4 \u7f51\u7edc\u8fde\u901a\u6027\u6d4b\u8bd5\uff1b"}),"\n",(0,t.jsx)(e.h2,{id:"3\u5c0f\u9898",children:"3\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"3.\u4e3a\u65b9\u4fbf\u540e\u7eed\u9a8c\u8bc1\u4e0e\u6d4b\u8bd5\uff0cSW3 \u7684 E1/0/22 \u8fde\u63a5\u5176\u4ed6\u5408\u9002\u8bbe\u5907\u7684\u4e00\u4e2a \u63a5\u53e3\uff0c\u914d\u7f6e\u4e3a trunk\uff0c\u5141\u8bb8 Vlan31-34\u3001110\u3001120 \u901a\u8fc7\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"int e1/0/22\nswitchport mode trunk  #\u8bbe\u7f6e\u7aef\u53e3\u6a21\u5f0f\u4e3atrunk\nswitchport trunk allowed vlan 31-34;110;120 #\u8bbe\u7f6e\u5141\u8bb8\u901a\u8fc7trunk\u7684VLAN\nloopback\n"})}),"\n",(0,t.jsx)(e.h2,{id:"4\u5c0f\u9898",children:"4\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"4.\u5c06 SW3 \u6a21\u62df\u529e\u4e8b\u5904\u4ea4\u6362\u673a\uff0c\u5b9e\u73b0\u4e0e\u96c6\u56e2\u5176\u5b83\u4e1a\u52a1\u8def\u7531\u8868\u9694\u79bb\uff0c\u529e\u4e8b\u5904\u8def\u7531\u8868 VPN \u5b9e\u4f8b\u540d\u79f0\u4e3a Office\uff0cRD \u4e3a 1:1\u3002\u5c06 SW3 \u6a21\u62df\u4e3a Internet \u4ea4\u6362\u673a\uff0c\u5b9e\u73b0\u4e0e\u96c6\u56e2\u5176\u5b83\u4e1a\u52a1\u8def\u7531\u8868\u9694\u79bb\uff0cInternet \u8def\u7531\u8868 VPN \u5b9e \u4f8b\u540d\u79f0\u4e3a Internet\uff0cRD \u4e3a 2:2\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"ip vrf Office\nrd 1:1\nexit\n\nip vrf Internet\nrd 2:2\n\ninterface vlan 110\nip vrf forwarding Office\n\ninterface vlan 120\nip vrf forwarding Office\n\ninterface vlan 1015\nip vrf forwarding Office\n\ninterface vlan 1017\nip vrf forwarding Internet\n\ninterface vlan 1018\nip vrf forwarding Internet\n\ninterface loopback2\nip vrf forwarding Office\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6ce8\uff1aVRF\u6982\u8ff0VRF\uff08Virtual Routing and Rorwarding\uff0c\u865a\u62df\u8def\u7531\u8f6c\u53d1\uff09\u6280\u672f\u901a\u8fc7\u5728\u4e00\u53f0\u4e09\u5c42\u8f6c\u53d1\u8bbe\u5907\u4e0a\u521b\u5efa\u591a\u5f20\u8def\u7531\u8868\u5b9e\u73b0\u6570\u636e\u6216\u4e1a\u52a1\u7684\u9694\u79bb\uff0c\u5e38\u7528\u4e8eMPLS VPN\u3001\u9632\u706b\u5899\u7b49\u4e00\u4e9b\u9700\u8981\u5b9e\u73b0\u9694\u79bb\u7684\u5e94\u7528\u573a\u666f\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"5\u5c0f\u9898",children:"5\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"5.SW1 \u914d\u7f6e SNMP\uff0c\u5f15\u64ce id \u5206\u522b\u4e3a 1000\uff1b\u521b\u5efa\u7ec4 GroupSkills\uff0c\u91c7\u7528 \u6700\u9ad8\u5b89\u5168\u7ea7\u522b\uff0c\u914d\u7f6e\u7ec4\u7684\u8bfb\u3001\u5199\u89c6\u56fe\u5206\u522b\u4e3a\uff1aSkills_R\u3001Skills_W\uff1b\u521b\u5efa\u8ba4\u8bc1\u7528\u6237\u4e3a UserSkills\uff0c\u91c7\u7528 aes \u7b97\u6cd5\u8fdb\u884c\u52a0\u5bc6\uff0c\u5bc6\u94a5\u4e3a Key1122\uff0c\u54c8\u5e0c\u7b97\u6cd5\u4e3a sha\uff0c\u5bc6\u94a5\u4e3a Key-1122\uff1b\u5f53\u8bbe\u5907\u6709\u5f02\u5e38\u65f6\uff0c\u9700\u8981\u7528\u672c\u5730\u7684\u73af\u56de\u5730\u5740 Loopback1 \u53d1\u9001 v3 Trap \u6d88\u606f\u81f3\u96c6\u56e2\u7f51\u7ba1\u670d\u52a1\u5668 10.4.15.120\u30012001:10:4:15::120\uff0c\u91c7\u7528\u6700\u9ad8\u5b89\u5168\u7ea7\u522b\uff1b\u5f53\u6cd5\u52a1\u90e8\u95e8\u7684\u7528\u6237\u7aef\u53e3\u53d1\u751f updown \u4e8b\u4ef6\u65f6\u7981\u6b62\u53d1\u9001 trap \u6d88\u606f\u81f3\u4e0a\u8ff0\u96c6\u56e2\u7f51\u7ba1\u670d\u52a1\u5668\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'\u5168\u5c40\u914d\u7f6e\u4e0b\nsnmp-server enable #\u542f\u7528SNMP\u4ee3\u7406\nsnmp-server engineid 1000 #\u914d\u7f6e\u5f15\u64ceID\nsnmp-server view Skills_R 1. include  #\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a"Skills_R"\u7684\u89c6\u56fe\uff0c\u5305\u542b\u5728\u7248\u672c\u4e3a1\u7684SNMP\u4e2d\nsnmp-server view Skills_W 1. include  #\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a"Skills_W"\u7684\u89c6\u56fe\uff0c\u5305\u542b\u5728\u7248\u672c\u4e3a1\u7684SNMP\u4e2d\nsnmp-server group GroupSkills authpriv read Skills_R write Skills_W #authpriv\u4e3a\u9274\u522b\u4e14\u52a0\u5bc6\u7684\u5b89\u5168\u7ea7\u522b\uff0c\u53e6\u4e00\u79cd\u5c31\u662f\u53ea\u9274\u522b\u4e0d\u52a0\u5bc6\nsnmp-server user UserSkills GroupSkills authPriv aes Key-1122 auth sha Key-1122 #\u914d\u7f6e\u8ba4\u8bc1\u7528\u6237\n\n\nsnmp-server enable traps #\u542f\u7528Trap\u529f\u80fd\nsnmp-server trap-source 10.4.1.1 #\u914d\u7f6e\u53d1\u9001Trap\u6d88\u606f\u7684\u5730\u5740\nsnmp-server trap-source 2001:10:4:1::1\n\nsnmp-server host 10.4.15.120 v3 authpriv UserSkills       #\u914d\u7f6e\u63a5\u6536Trap\u6d88\u606f\u7684\u7f51\u7edc\u7ba1\u7406\u7ad9\nsnmp-server host 2001:10:4:15::120 v3 authpriv UserSkills #\u914d\u7f6e\u63a5\u6536Trap\u6d88\u606f\u7684\u7f51\u7edc\u7ba1\u7406\u7ad9\n\nint e1/0/3 #\u8fdb\u5165\u6cd5\u52a1\u6240\u5c5e\u7aef\u53e3\nno switchport updown notification enable #\u5173\u95ed\u7aef\u53e3updown\u4e8b\u4ef6\u53d1\u9001 trap\u4fe1\u606f\u7684\u529f\u80fd\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u91ca\u4e49 SNMP\uff08\u7b80\u5355\u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff09\u7b80\u5355\u6765\u8bb2\u5c31\u662f\u4e00\u4e2a\u7f51\u7edc\u7ba1\u7406\u6807\u51c6\uff0c\u65b9\u4fbf\u4e0d\u540c\u54c1\u724c\u3001\u4e0d\u540c\u7c7b\u578b\u7684\u8bbe\u5907\u63a5\u5165\u7edf\u4e00\u7684\u7f51\u7edc\u7ba1\u7406\u7cfb\u7edf\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"6\u5c0f\u9898",children:"6\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"6.\u5bf9 SW1 \u4e0e FW1 \u4e92\u8fde\u6d41\u91cf\u955c\u50cf\u5230 SW1 E1/0/1\uff0c\u4f1a\u8bdd\u5217\u8868\u4e3a 1\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u914d\u7f6e\u955c\u50cf\u7aef\u53e3\nmonitor session 1 source interface ethernet 1/0/19 both #\u914d\u7f6e\u955c\u50cf\u7aef\u53e3\uff0c\u4f1a\u8bdd\u5217\u8868\u4e3a1\uff0c\u955c\u50cf\u6e90\u7aef\u53e3\u4e3ae1/0/19\uff0c\u5305\u542b\u53d1\u9001\u548c\u63a5\u6536\u7684\u6d41\u91cf \nmonitor session 1 destination interface ethernet 1/0/1 #\u914d\u7f6e\u955c\u50cf\u7aef\u53e3\uff0c\u4f1a\u8bdd\u5217\u8868\u4e3a1\uff0c\u955c\u50cf\u76ee\u7684\u7aef\u53e3\u4e3ae1/0/1\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u91ca\u4e49\u955c\u50cf\u7aef\u53e3\u662f\u7528\u6765\u76d1\u6d4b\u7aef\u53e3\u6d41\u91cf\u7684\uff0c\u7531\u67d0\u4e2a\u7aef\u53e3\u6536\u96c6\u76d1\u6d4b\u5230\u7684\u6570\u636e\u5e27\uff0c\u65b9\u4fbf\u7528\u6765\u5206\u6790\u6d41\u91cf\u6570\u636e\u3001\u7528\u6765\u8bca\u65ad\u7f51\u7edc\u6545\u969c\u7b49\u7b49"}),"\n",(0,t.jsx)(e.p,{children:"session \u4f1a\u8bdd\u5217\u8868\u53f7/\u955c\u50cf\u4e8b\u52a1\u53f7"}),"\n",(0,t.jsx)(e.p,{children:"source \u955c\u50cf\u6e90\u7aef\u53e3\u5c31\u662f\u88ab\u590d\u5236\u6570\u636e\u7684\u7aef\u53e3\ndestiation \u955c\u50cf\u76ee\u7684\u7aef\u53e3\u5c31\u662f\u63a5\u6536\u6570\u636e\u7684\u7aef\u53e3"}),"\n",(0,t.jsx)(e.p,{children:"tx #\u53d1\u9001\u7684\u6d41\u91cf\nrx #\u63a5\u6536\u7684\u6d41\u91cf\nboth #\u53d1\u9001\u548c\u63a5\u6536\u7684\u6d41\u91cf"}),"\n",(0,t.jsx)(e.h2,{id:"7\u5c0f\u9898",children:"7\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"7.SW1 \u548c SW2 E1/0/21-28 \u542f\u7528\u5355\u5411\u94fe\u8def\u6545\u969c\u68c0\u6d4b\uff0c\u5f53\u53d1\u751f\u8be5\u6545\u969c\u65f6\uff0c \u7aef\u53e3\u6807\u8bb0\u4e3a errdisable \u72b6\u6001\uff0c\u81ea\u52a8\u5173\u95ed\u7aef\u53e3\uff0c\u7ecf\u8fc7 1 \u5206\u949f\u540e\uff0c\u7aef\u53e3\u81ea\u52a8\u91cd\u542f\uff1b\u53d1\u9001 Hello \u62a5\u6587\u65f6\u95f4\u95f4\u9694\u4e3a 15s\uff1b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5168\u5c40\u914d\u7f6e\u4e0b\u8f93\u5165\uff1a\nuldp enable  #\u5f00\u542f\u5168\u5c40uldp\nuldp recovery-time 60 #\u914d\u7f6e\u7aef\u53e3\u91cd\u542f\u65f6\u95f4\u95f4\u9694\nuldp hello-interval 15 #\u914d\u7f6e\u901a\u544a\u62a5\u6587\u65f6\u95f4\u95f4\u9694\nuldp aggressive-mode  #\u5168\u5c40uldp\u5de5\u4f5c\u6a21\u5f0f\u4e3a\u6fc0\u8fdb\u6a21\u5f0f\n\nint\te1/0/21-28\nuldp enable #\u5f00\u542f\u7aef\u53e3uldp\nuldp aggressive-mode #\u7aef\u53e3uldp\u5de5\u4f5c\u6a21\u5f0f\u4e3a\u6fc0\u8fdb\u6a21\u5f0f\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u91ca\u4e49uldp #\u5355\u5411\u94fe\u8def\u68c0\u6d4b\u534f\u8bae\uff0c\u5355\u5411\u94fe\u8def\u5c31\u662f\u7269\u7406\u94fe\u8def\u6b63\u5e38\u7684\u60c5\u51b5\u4e0b\uff0c\u672c\u7aef\u80fd\u548c\u5bf9\u7aef\u6b63\u5e38\u901a\u4fe1\uff0c\u800c\u5bf9\u7aef\u5374\u4e0d\u80fd\u8ddf\u672c\u7aef\u6b63\u5e38\u901a\u4fe1"}),"\n",(0,t.jsx)(e.p,{children:"uldp manual-shutdown #\u624b\u52a8\u5173\u95ed\u5355\u5411\u94fe\u8def\uff0c\u9ed8\u8ba4\u4e3a\u4e3b\u52a8"}),"\n",(0,t.jsx)(e.h2,{id:"8\u5c0f\u9898",children:"8\u5c0f\u9898"}),"\n",(0,t.jsx)(e.p,{children:"8.SW1 \u548c SW2 \u6240\u6709\u7aef\u53e3\u542f\u7528\u94fe\u8def\u5c42\u53d1\u73b0\u534f\u8bae\uff0c\u66f4\u65b0\u62a5\u6587\u53d1\u9001\u65f6\u95f4\u95f4\u9694 \u4e3a 20s\uff0c\u8001\u5316\u65f6\u95f4\u4e58\u6cd5\u5668\u503c\u4e3a 5\uff0cTrap \u62a5\u6587\u53d1\u9001\u95f4\u9694\u4e3a 10s\uff0c\u914d\u7f6e\u4e09\u6761\u88f8\u5149\u7f06\u7aef\u53e3\u4f7f\u80fd Trap \u529f\u80fd\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"lldp enable #\u542f\u7528lldp\nlldp notification interval 10 #trap\u62a5\u6587\u53d1\u9001\u65f6\u95f4\u95f4\u9694\u4e3a10s\nlldp msgTxHold 5 #\u914d\u7f6e\u8001\u5316\u65f6\u95f4\u4e58\u6cd5\u5668\u503c\u4e3a5\nlldp tx-interval 20 #\u914d\u7f6e\u66f4\u65b0\u62a5\u6587\u53d1\u9001\u65f6\u95f4\u4e3a20s\n\nint e1/0/22-24\nlldp trap enable #\u542f\u7528trap\u529f\u80fd\n\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6ce8\uff1a\u94fe\u8def\u5c42\u53d1\u73b0\u534f\u8bae\uff08LLDP\uff09\u94fe\u7edc\u8bbe\u5907\u53ef\u4ee5\u901a\u8fc7\u5728\u672c\u5730\u7f51\u7edc\u4e2d\u53d1\u9001LLDPDU\uff08Link Layer Discovery Protocol Data Unit\uff09\u6765\u901a\u544a\u5176\u4ed6\u8bbe\u5907\u81ea\u8eab\u7684\u72b6\u6001\u3002\u662f\u4e00\u79cd\u80fd\u591f\u4f7f\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u4e92\u76f8\u53d1\u73b0\u5e76\u901a\u544a\u72b6\u6001\u3001\u4ea4\u4e92\u4fe1\u606f\u7684\u534f\u8bae\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>a});var t=r(6540);const i={},s=t.createContext(i);function c(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);