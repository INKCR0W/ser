"use strict";(self.webpackChunkser=self.webpackChunkser||[]).push([[6378],{6155:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var a=n(4848),r=n(8453);const s={sidebar_position:10},t=void 0,d={id:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/10\u3001mariadb\u670d\u52a1 \u221a",title:"10\u3001mariadb\u670d\u52a1 \u221a",description:"\u9898\u76ee\uff1a",source:"@site/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/10\u3001mariadb\u670d\u52a1 \u221a.md",sourceDirName:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e",slug:"/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/10\u3001mariadb\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/10\u3001mariadb\u670d\u52a1 \u221a",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"9\u3001iscsi\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/9\u3001iscsi\u670d\u52a1 \u221a"},next:{title:"11\u3001mysql\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/11\u3001mysql\u670d\u52a1 \u221a"}},o={},l=[{value:"<strong>\u9898\u76ee\uff1a</strong>",id:"\u9898\u76ee",level:2},{value:"\u914d\u7f6e\u6b65\u9aa4\uff1a",id:"\u914d\u7f6e\u6b65\u9aa4",level:2},{value:"1\u5c0f\u9898",id:"1\u5c0f\u9898",level:2},{value:"1.1 \u5b89\u88c5\u548c\u57fa\u7840\u914d\u7f6e",id:"11-\u5b89\u88c5\u548c\u57fa\u7840\u914d\u7f6e",level:3},{value:"1.2 \u521b\u5efa\u7528\u6237\u5e76\u5206\u914d\u6743\u9650",id:"12-\u521b\u5efa\u7528\u6237\u5e76\u5206\u914d\u6743\u9650",level:3},{value:"2\u5c0f\u9898",id:"2\u5c0f\u9898",level:2},{value:"2.1\u521b\u5efa\u6570\u636e\u5e93\u548c\u521b\u5efa\u8868",id:"21\u521b\u5efa\u6570\u636e\u5e93\u548c\u521b\u5efa\u8868",level:3},{value:"3\u5c0f\u9898",id:"3\u5c0f\u9898",level:2},{value:"4\u5c0f\u9898",id:"4\u5c0f\u9898",level:2},{value:"4.1 \u521b\u5efa\u6587\u4ef6\u8def\u5f84\u5e76\u590d\u5236\u5185\u5bb9\u5230\u8be5\u6587\u4ef6\u4e2d",id:"41-\u521b\u5efa\u6587\u4ef6\u8def\u5f84\u5e76\u590d\u5236\u5185\u5bb9\u5230\u8be5\u6587\u4ef6\u4e2d",level:3},{value:"4.1 \u5728mariadb\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165",id:"41-\u5728mariadb\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165",level:3},{value:"5\u5c0f\u9898",id:"5\u5c0f\u9898",level:2},{value:"6\u5c0f\u9898",id:"6\u5c0f\u9898",level:2}];function c(e){const i={code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.h2,{id:"\u9898\u76ee",children:(0,a.jsx)(i.strong,{children:"\u9898\u76ee\uff1a"})}),"\n",(0,a.jsxs)(i.p,{children:["\u8bf7\u5b89\u88c5 mariadb \u670d\u52a1\uff0c\u5efa\u7acb\u6570\u636e\u8868\u3002\n1\u3001\u914d\u7f6e linux3 \u4e3a mariadb \u670d\u52a1\u5668\uff0c\u521b\u5efa\u6570\u636e\u5e93\u7528\u6237 xiao\uff0c\u5728\u4efb\u610f\u673a\u5668\u4e0a\u5bf9\u6240\u6709\u6570\u636e\u5e93\u6709\u5b8c\u5168\u6743\u9650\u3002\n**2\u3001**\u521b\u5efa\u6570\u636e\u5e93 userdb\uff1b\u5728\u5e93\u4e2d\u521b\u5efa\u8868 userinfo\uff0c\u8868\u7ed3\u6784\u5982\u4e0b\uff1a\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1694499387348-dacb2483-9083-4228-b0b6-10edb6992ee8.png#averageHue=%23eae9e8&clientId=uf77fbeec-1a20-4&from=paste&height=239&id=u423055b2&originHeight=329&originWidth=889&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=49493&status=done&style=none&taskId=u2f207a11-a160-4468-9fdb-e6e5f3f689a&title=&width=646.5454545454545",alt:"image.png"}),"\n3\u3001\u5728\u8868\u4e2d\u63d2\u5165 2 \u6761\u8bb0\u5f55\uff0c\u5206\u522b\u4e3a(1,user1,1.61,2000-07-01\uff0cM)\uff0c (2,user2\uff0c1.62,2000-07-02\uff0cF)\uff0cpassword \u5b57\u6bb5\u4e0e name \u5b57\u6bb5\u76f8\u540c\uff0c password \u5b57\u6bb5\u7528 md5 \u51fd\u6570\u52a0\u5bc6\u3002\n4\u3001\u65b0\u5efa/var/mariadb/userinfo.txt \u6587\u4ef6\uff0c\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff0c\u7136\u540e\u5c06\u6587\u4ef6\u5185\u5bb9\u5bfc\u5165\u5230 userinfo \u8868\u4e2d\uff0cpassword \u5b57\u6bb5\u7528 md5 \u51fd\u6570\u52a0\u5bc6\u3002\n3,user3,1.63,2000-07-03,F,user3\n4,user4,1.64,2000-07-04,M,user4\n5,user5,1.65,2000-07-05,M,user5\n6,user6,1.66,2000-07-06,F,user6\n7,user7,1.67,2000-07-07,F,user7\n8,user8,1.68,2000-07-08,M,user8\n9,user9,1.69,2000-07-09,F,user9\n5\u3001\u5c06\u8868 userinfo \u4e2d\u7684\u8bb0\u5f55\u5bfc\u51fa\uff0c\u5e76\u5b58\u653e\u5230/var/mariadb/userinfo.sql\uff0c\u5b57\u6bb5\u4e4b\u95f4\u7528','\u5206\u9694\u3002\n6\u3001\u4e3a root \u7528\u6237\u521b\u5efa\u8ba1\u5212\u4efb\u52a1\uff08day \u7528\u6570\u5b57\u8868\u793a\uff09\uff0c\u6bcf\u5468\u4e94\u51cc\u6668 1:00 \u5907\u4efd\u6570\u636e\u5e93 userdb(\u542b\u521b\u5efa\u6570\u636e\u5e93\u547d\u4ee4)\u5230/var/mariadb/userdb.sql\u3002\n\uff08\u4e3a\u4fbf\u4e8e\u6d4b\u8bd5\uff0c\u624b\u52a8\u5907\u4efd\u4e00\u6b21\u3002\uff09"]}),"\n",(0,a.jsx)(i.h2,{id:"\u914d\u7f6e\u6b65\u9aa4",children:"\u914d\u7f6e\u6b65\u9aa4\uff1a"}),"\n",(0,a.jsx)(i.h2,{id:"1\u5c0f\u9898",children:"1\u5c0f\u9898"}),"\n",(0,a.jsx)(i.h3,{id:"11-\u5b89\u88c5\u548c\u57fa\u7840\u914d\u7f6e",children:"1.1 \u5b89\u88c5\u548c\u57fa\u7840\u914d\u7f6e"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"yum install mariadb* -y\nsystemctl enable mariadb --now \u5f00\u673a\u81ea\u542f\u5e76\u73b0\u5728\u542f\u52a8\nmysql_secure_installation \u8bbe\u7f6eroot\u5bc6\u7801  \u8f93\u5165\u540e\u6309\u56de\u8f66\n[root@linux5 ~]# mysql -uroot -p\u767b\u5f55\u6570\u636e\u5e93\n"})}),"\n",(0,a.jsx)(i.h3,{id:"12-\u521b\u5efa\u7528\u6237\u5e76\u5206\u914d\u6743\u9650",children:"1.2 \u521b\u5efa\u7528\u6237\u5e76\u5206\u914d\u6743\u9650"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"MariaDB [(none)]> show databases;\u67e5\u770b\u6240\u6709\u5e93\nMariaDB [(none)]> select user from mysql.user; #\u67e5\u770b\u6570\u636e\u5e93\u7528\u6237\nMariaDB [(none)]> grant all privileges on *.* to xiao@10.1.220.103 identified by '123456'; #\u6388\u6743\u5e76\u521b\u5efa\u7528\u6237\nMariaDB [(none)]> show grants for 'xiao'@'10.1.220.103';   #\u67e5\u770b\u7528\u6237\u6743\u9650\n"})}),"\n",(0,a.jsx)(i.p,{children:"\u6ce8\uff1axiao@\u672c\u5730\u53ef\u4ee5\u5728\u672c\u673a\u4e0a\u767b\u5f55\uff0cxiao@IP\u5730\u5740\uff0c\u65e0\u6cd5\u5728\u672c\u5730\u767b\u5f55mariadb"}),"\n",(0,a.jsx)(i.h2,{id:"2\u5c0f\u9898",children:"2\u5c0f\u9898"}),"\n",(0,a.jsx)(i.h3,{id:"21\u521b\u5efa\u6570\u636e\u5e93\u548c\u521b\u5efa\u8868",children:"2.1\u521b\u5efa\u6570\u636e\u5e93\u548c\u521b\u5efa\u8868"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"create database userdb; #\u521b\u5efa\u6570\u636e\u5e93\nuse userdb; \u5207\u6362\u5230userdb\u6570\u636e\u5e93\ncreate table userinfo(id int auto_increment,name varchar(10),height float,birthday datetime,sex varchar(5),password varchar(200) not null,primary key(id));\n\u521b\u5efa\u8868\n"})}),"\n",(0,a.jsx)(i.h2,{id:"3\u5c0f\u9898",children:"3\u5c0f\u9898"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"insert into userinfo(id,name,birthday,sex,password) values ('1','user1','2000-7-1','M',md5('user1'));\ninsert into userinfo(id,name,birthday,sex,password) values ('2','user2','2000-7-1','F',md5('user2'));\n"})}),"\n",(0,a.jsx)(i.p,{children:"\u6269\u5c55\u547d\u4ee4\uff1adesc userinfo; #\u67e5\u770b\u8868\u7ed3\u6784\nselect * from userinfo; #\u67e5\u770buserinfo\u8868\u8bb0\u5f55"}),"\n",(0,a.jsxs)(i.p,{children:["password\u5b57\u6bb5password\u52a0\u5bc6\u5e94\u5199\u6210\ninsert into userinfo(id,name,birthday,sex,password) values ('1','user1','2000-7-1','M',password('user1'));\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1714270398061-ed719429-61c6-40b2-a762-c549880d01ac.png#averageHue=%23110f0c&clientId=ud110c0e1-36a1-4&from=paste&height=138&id=u50e1d5c1&originHeight=138&originWidth=1463&originalType=binary&ratio=1&rotation=0&showTitle=false&size=15713&status=done&style=none&taskId=u4144a5ca-587a-42dc-b3f3-19374cdf1f9&title=&width=1463",alt:"image.png"})]}),"\n",(0,a.jsx)(i.h2,{id:"4\u5c0f\u9898",children:"4\u5c0f\u9898"}),"\n",(0,a.jsx)(i.h3,{id:"41-\u521b\u5efa\u6587\u4ef6\u8def\u5f84\u5e76\u590d\u5236\u5185\u5bb9\u5230\u8be5\u6587\u4ef6\u4e2d",children:"4.1 \u521b\u5efa\u6587\u4ef6\u8def\u5f84\u5e76\u590d\u5236\u5185\u5bb9\u5230\u8be5\u6587\u4ef6\u4e2d"}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1714270111775-04bd990a-75ef-4d4d-bbbd-88bce76e97e6.png#averageHue=%23100b06&clientId=ud110c0e1-36a1-4&from=paste&height=201&id=ud0109340&originHeight=201&originWidth=1025&originalType=binary&ratio=1&rotation=0&showTitle=false&size=22188&status=done&style=none&taskId=u35ff57d1-29ea-4449-9ffc-9e5bf6c4808&title=&width=1025",alt:"image.png"})}),"\n",(0,a.jsx)(i.h3,{id:"41-\u5728mariadb\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165",children:"4.1 \u5728mariadb\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u5165"}),"\n",(0,a.jsxs)(i.p,{children:["load data local infile '/var/mariadb/userinfo.txt' into table userinfo fields terminated by ',' lines terminated by '\\n' (id,name,height,birthday,sex,password) set password=md5(password);\n#\u5bfc\u5165txt\u6587\u4ef6\u4e2d\u7684\u8868\u8bb0\u5f55\u5230userinfo\u8868\u7684id,name,height\u7b49\u5b57\u6bb5\u4e2d\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1714270367079-e2579df2-7010-4c41-af19-ec71833f25c4.png#averageHue=%2316120f&clientId=ud110c0e1-36a1-4&from=paste&height=373&id=u259b22c3&originHeight=373&originWidth=1394&originalType=binary&ratio=1&rotation=0&showTitle=false&size=51954&status=done&style=none&taskId=ue4fa5917-9e12-43e8-a773-124112c67d2&title=&width=1394",alt:"image.png"})]}),"\n",(0,a.jsx)(i.h2,{id:"5\u5c0f\u9898",children:"5\u5c0f\u9898"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{children:"chmod 777 /var/mariadb #\u6388\u4e88\u6743\u9650\n\nvi /etc/selinux/config #\u5efa\u8bae\u6c38\u4e45\u5173\u95edselinux\n\n\u8fdb\u5165mariadb\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5bfc\u51fa\u4ee5\u9017\u53f7\u9694\u5f00\u7684\u8bb0\u5f55\nselect * from userinfo into outfile '/var/mariadb/userinfo.sql' fields terminated by ',';\n"})}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1714270455893-3634c8a2-dd93-4cf2-9fc3-bb9611f21773.png#averageHue=%231b140e&clientId=ud110c0e1-36a1-4&from=paste&height=247&id=ua75dd761&originHeight=247&originWidth=1347&originalType=binary&ratio=1&rotation=0&showTitle=false&size=46884&status=done&style=none&taskId=u95f1ba62-8702-4897-b8cb-4e89ddc32fe&title=&width=1347",alt:"image.png"})}),"\n",(0,a.jsx)(i.h2,{id:"6\u5c0f\u9898",children:"6\u5c0f\u9898"}),"\n",(0,a.jsxs)(i.p,{children:["crontab -e    #\u4f7f\u7528crontab\u521b\u5efa\u4efb\u52a1\uff0c\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1695966737822-fd37cf95-be5a-4b54-8d91-e19abf9a0b27.png#averageHue=%23330e28&clientId=u871f5835-3630-4&from=paste&height=19&id=ud43b6534&originHeight=29&originWidth=1070&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=13066&status=done&style=none&taskId=ua2b9d1bb-0af5-4689-8617-7432972a676&title=&width=713.3333333333334",alt:"image.png"}),"\ncrontab -l  #\u67e5\u770b\u4efb\u52a1\u5217\u8868\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1695966711256-539b712b-eb25-4429-bdab-0d2b9a317393.png#averageHue=%23320c26&clientId=u871f5835-3630-4&from=paste&height=43&id=ua3c1dbd8&originHeight=65&originWidth=1063&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=21311&status=done&style=none&taskId=u30ee5f03-3dd9-4970-a3b8-f757010346e&title=&width=708.6666666666666",alt:"image.png"}),"\n\u4e0b\u56fe\u770b\u8bf4\u660e\uff1a\n",(0,a.jsx)(i.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1689685468768-75f09288-83e0-45a7-a293-857adb8ce005.png#averageHue=%23292d36&clientId=ucb0079dc-dfc2-4&from=paste&height=182&id=u22ccce82&originHeight=199&originWidth=780&originalType=binary&ratio=1.0909090909090908&rotation=0&showTitle=false&size=20891&status=done&style=none&taskId=u9b71b2a2-8ba7-498e-80d5-1af34b73aa0&title=&width=715",alt:"\u56fe\u7247.png"})]})]})}function u(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>d});var a=n(6540);const r={},s=a.createContext(r);function t(e){const i=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(s.Provider,{value:i},e.children)}}}]);