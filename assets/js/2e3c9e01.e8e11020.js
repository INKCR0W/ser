"use strict";(self.webpackChunkser=self.webpackChunkser||[]).push([[8361],{5222:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var a=s(4848),r=s(8453);const i={sidebar_position:6},t=void 0,d={id:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/6\u3001Samba\u670d\u52a1 \u221a",title:"6\u3001Samba\u670d\u52a1 \u221a",description:"\u9898\u76ee\uff1a",source:"@site/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/6\u3001Samba\u670d\u52a1 \u221a.md",sourceDirName:"\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e",slug:"/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/6\u3001Samba\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/6\u3001Samba\u670d\u52a1 \u221a",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"5\u3001nginx\u548ctomcat\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/5\u3001nginx\u548ctomcat\u670d\u52a1 \u221a"},next:{title:"7\u3001nfs\u670d\u52a1 \u221a",permalink:"/docs/\u4e8c\u3001\u670d\u52a1\u5668\u6a21\u5757/\u56db\u3001Linux\u4e91\u670d\u52a1\u914d\u7f6e/7\u3001nfs\u670d\u52a1 \u221a"}},o={},c=[{value:"<strong>\u9898\u76ee\uff1a</strong>",id:"\u9898\u76ee",level:2},{value:"\u914d\u7f6e\u6b65\u9aa4\uff1a",id:"\u914d\u7f6e\u6b65\u9aa4",level:2},{value:"1\u5c0f\u9898",id:"1\u5c0f\u9898",level:2},{value:"2\u5c0f\u9898",id:"2\u5c0f\u9898",level:2},{value:"3\u5c0f\u9898",id:"3\u5c0f\u9898",level:2}];function l(e){const n={br:"br",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"\u9898\u76ee",children:(0,a.jsx)(n.strong,{children:"\u9898\u76ee\uff1a"})}),"\n",(0,a.jsx)(n.p,{children:"\u8bf7\u91c7\u7528 samba \u670d\u52a1\uff0c\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab\u3002\n1\u3001\u5728 linux3 \u4e0a\u521b\u5efa user00-user19 \u7b49 20 \u4e2a\u7528\u6237\uff1buser00 \u548c user01 \u6dfb\n\u52a0\u5230 manager \u7ec4\uff0cuser02 \u548c user03 \u6dfb\u52a0\u5230 dev \u7ec4\u3002\u628a\u7528\u6237 user00-\nuser03 \u6dfb\u52a0\u5230 samba \u7528\u6237\u3002\n2\u3001\u914d\u7f6e linux3 \u4e3a samba \u670d\u52a1\u5668,\u5efa\u7acb\u5171\u4eab\u76ee\u5f55/srv/sharesmb\uff0c\u5171\u4eab\u540d\n\u4e0e\u76ee\u5f55\u540d\u76f8\u540c\u3002manager \u7ec4\u7528\u6237\u5bf9 sharesmb \u5171\u4eab\u6709\u8bfb\u5199\u6743\u9650\uff0cdev \u7ec4\n\u5bf9 sharesmb \u5171\u4eab\u6709\u53ea\u8bfb\u6743\u9650\uff1b\u7528\u6237\u5bf9\u81ea\u5df1\u65b0\u5efa\u7684\u6587\u4ef6\u6709\u5b8c\u5168\u6743\u9650\uff0c\n\u5bf9\u5176\u4ed6\u7528\u6237\u7684\u6587\u4ef6\u53ea\u6709\u8bfb\u6743\u9650\uff0c\u4e14\u4e0d\u80fd\u5220\u9664\u522b\u4eba\u7684\u6587\u4ef6\u3002\u5728\u672c\u673a\u7528\nsmbclient \u547d\u4ee4\u6d4b\u8bd5\u3002\n3\u3001\u5728 linux4 \u4fee\u6539/etc/fstab,\u4f7f\u7528\u7528\u6237 user00 \u5b9e\u73b0\u81ea\u52a8\u6302\u8f7d linux3 \u7684\nsharesmb \u5171\u4eab\u5230/sharesmb\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u914d\u7f6e\u6b65\u9aa4",children:"\u914d\u7f6e\u6b65\u9aa4\uff1a"}),"\n",(0,a.jsx)(n.h2,{id:"1\u5c0f\u9898",children:"1\u5c0f\u9898"}),"\n",(0,a.jsx)(n.p,{children:"\u4e00\u3001\u5b89\u88c5smaba\u548csamba-client\nyum install samba samba-client.x86_64"}),"\n",(0,a.jsx)(n.p,{children:"\u4e8c\u3001\u521b\u5efa3\u4e2ashell\u811a\u672c\ntouch 00-01.sh 02-03.sh 04-19.sh"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'groupadd manager                          #\u521b\u5efamanager\u7ec4\nfor username in user{00..01}              #\u5faa\u73af\u521b\u5efa\u7528\u6237\ndo\nuseradd -g manager $username              #\u5c06\u7528\u6237\u52a0\u5165manager\u7ec4\necho "Pass-1234"|passwd --stdin $username #\u5199\u5165\u7528\u6237\u5bc6\u7801\ndone\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'groupadd dev                          #\u521b\u5efamanager\u7ec4\nfor username in user{02..03}              #\u5faa\u73af\u521b\u5efa\u7528\u6237\ndo\nuseradd -g dev $username              #\u5c06\u7528\u6237\u52a0\u5165manager\u7ec4\necho "Pass-1234"|passwd --stdin $username #\u5199\u5165\u7528\u6237\u5bc6\u7801\ndone\n\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'for username in user{04..19}\ndo\nuseradd $username\necho "Pass-1234"|passwd --stdin $username\ndone\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u6216\u8005\u5199\u6210\u4e00\u4e2a\u811a\u672c\u4e5f\u884c\n",(0,a.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1689398402797-23e33eec-60c3-4386-b311-9c7deb480b79.png#averageHue=%23040302&clientId=u75a42cba-634f-4&from=drop&id=uaf8d6c04&originHeight=741&originWidth=826&originalType=binary&ratio=1&rotation=0&showTitle=false&size=96924&status=done&style=none&taskId=ua6639e0a-d7f3-40fc-83e3-677a0f4074b&title=",alt:"\u622a\u56fe 2023-07-15 13-19-09.png"}),"\n\u4e09\u3001\u6dfb\u52a0samba\u7528\u6237\nsmbpasswd -a user00   #\u6dfb\u52a0user00\u5230samba\u6570\u636e\u5e93\uff0c\u8bbe\u7f6e\u5bc6\u7801\uff1a\u8f93\u5165\u4e24\u6b21\u5bc6\u7801\u4ee5\u786e\u8ba4\nsmbpasswd -a user01\nsmbpasswd -a user02\nsmbpasswd -a user03"]}),"\n",(0,a.jsx)(n.h2,{id:"2\u5c0f\u9898",children:"2\u5c0f\u9898"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[sharesmb]                 #\u5171\u4eab\u540d\ncomment = smbgx            #\u5171\u4eab\u63cf\u8ff0\npath = /srv/sharesmb       #\u5171\u4eab\u8def\u5f84\nbrowseable = Yes           #\u662f\u5426\u53ef\u89c1\nwritable = Yes             #\u662f\u5426\u53ef\u5199\nwrite list = @manager      #\u53ef\u5199\u7684\u7528\u6237/\u7ec4\nread list = @dev,@manager  #\u53ef\u8bfb\u7684\u7528\u6237/\u7ec4\nvalid users= @dev,@manager #\u53ef\u8bbf\u95ee\u7684\u7528\u6237/\u7ec4\ncreate mask = 0744         #\u6587\u4ef6\u6743\u9650\ndirectory mask = 0744      #\u76ee\u5f55\u6743\u9650\n"})}),"\n",(0,a.jsxs)(n.p,{children:["mkidr /srv/sharesmb\nchmod 777 /srv/sharesmb",(0,a.jsx)(n.br,{}),"\n","chmod o+t /srv/sharesmb/   #\u914d\u7f6e\u76ee\u5f55\u7684sbit\u6743\u9650\n\u767b\u5f55\u6d4b\u8bd5\uff1a\nsystemc\tenable smb.service --now\nWindows\uff1a\u8bbf\u95ee\\10.1.220.101\nLinux\uff1asmbclient //10.1.220.101/sharesmb -U user03\n",(0,a.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2023/png/33622884/1689399199820-e62dfd99-0c5c-475d-b588-ad3bb9937133.png#averageHue=%23080605&clientId=uca9d5e5d-e054-4&from=drop&id=u2720d0c1&originHeight=253&originWidth=1089&originalType=binary&ratio=1&rotation=0&showTitle=false&size=43146&status=done&style=none&taskId=uf3731a62-a53a-4289-96d5-efee9887f17&title=",alt:"\u622a\u56fe 2023-07-15 13-32-50.png"}),"\u5199\u5165\u6d4b\u8bd5\uff1a"]}),"\n",(0,a.jsx)(n.h2,{id:"3\u5c0f\u9898",children:"3\u5c0f\u9898"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"//10.1.220.101/sharesmb /sharesmb               cifs    username=user00,password=Pass-1234 0 0 \n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u91cd\u542f\u540e\u4f7f\u7528df -h\u67e5\u770b\u6302\u8f7d\u7ed3\u679c\n",(0,a.jsx)(n.img,{src:"https://cdn.nlark.com/yuque/0/2024/png/33622884/1713340048988-c33fa006-dd47-42d9-9fc0-c2b007a8665e.png#averageHue=%23110e0c&clientId=ue9dbbbe6-7d6f-4&from=paste&height=170&id=u83eab99d&originHeight=234&originWidth=993&originalType=binary&ratio=1.375&rotation=0&showTitle=false&size=28086&status=done&style=none&taskId=uf27156e3-bff9-4677-9065-cfa194f3db0&title=&width=722.1818181818181",alt:"image.png"})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var a=s(6540);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);