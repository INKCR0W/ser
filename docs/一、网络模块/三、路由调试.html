<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-一、网络模块/三、路由调试" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">三、路由调试 | ser</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ser.crow.pub/docs/一、网络模块/三、路由调试"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="三、路由调试 | ser"><meta data-rh="true" name="description" content="1小题"><meta data-rh="true" property="og:description" content="1小题"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://ser.crow.pub/docs/一、网络模块/三、路由调试"><link data-rh="true" rel="alternate" href="https://ser.crow.pub/docs/一、网络模块/三、路由调试" hreflang="en"><link data-rh="true" rel="alternate" href="https://ser.crow.pub/docs/一、网络模块/三、路由调试" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.80068ed9.css">
<script src="/assets/js/runtime~main.71b79737.js" defer="defer"></script>
<script src="/assets/js/main.35104207.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Pluto Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Pluto Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NOTHING</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/开班">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/jASXBzdcnT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/INKCR0W/ser" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/网络模块">网络模块</a><button aria-label="Collapse sidebar category &#x27;网络模块&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/一、网络模块/一、工程统筹">一、工程统筹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/一、网络模块/二、交换配置">二、交换配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/一、网络模块/三、路由调试">三、路由调试</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/一、网络模块/四、无线部署">四、无线部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/一、网络模块/五、安全维护">五、安全维护</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/开班">开班</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/服务器模块">服务器模块</a><button aria-label="Expand sidebar category &#x27;服务器模块&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/答案提交">答案提交</a><button aria-label="Expand sidebar category &#x27;答案提交&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/排错思路">排错思路</a><button aria-label="Expand sidebar category &#x27;排错思路&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>三、路由调试</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1小题">1小题<a href="#1小题" class="hash-link" aria-label="Direct link to 1小题" title="Direct link to 1小题">​</a></h2>
<p>1.配置所有设备主机名，名称见“网络拓扑”。启用所有设备的 ssh 服 务，用户名和明文密码均为 admin；配置所有设备 ssh 连接超时为 9 分钟，console 连接超时为 30 分钟。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">路由器RT1/RT2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hostname + 主机名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip sshd enable  #启用ssh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">aaa authentication login default local #配置aaa登录认证方式为本地用户信息认证，默认已配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">aaa authentication enable default none #配置aaa登录进入enable认证方式为不认证，默认已配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">username admin password 0 admin #配置用户名密码，默认已配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip sshd timeout 540 #连接超时540秒=9分钟</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">line console 0 #配置console 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exec-timeout 1800 #连接超时1800秒=30分钟</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">防火墙FW1/FW2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ssh timeout 9 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">console timeout 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">交换机和AC SW1/SW2/SW3/AC</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ssh-server enable </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ssh-server timeout 540 #ssh连接超时</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip http server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">username admin privilege 15 password 0 admin #默认已配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">authentication line console login local #这个可以不用配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exec-timeout 30 #console超时</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2小题">2小题<a href="#2小题" class="hash-link" aria-label="Direct link to 2小题" title="Direct link to 2小题">​</a></h2>
<p>2.配置所有设备的时区为 GMT+08:00。调整 SW1 时间为实际时间，SW1 配置为 ntp server，其他设备为 ntp client，请求报文时间间隔 1 分钟，用 SW1 Loopback1 IPv6 地址作为 ntp server 地址。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">一、SW1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clock timezone GMT add 8 0 #设置时区，add为加 GMT为时区名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">show clock #查看当前日期及时间</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clock set 时:分:秒 年.月.日 #修改当前系统日期及时间，注：特权模式下输入</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp enable #启用NTP服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp-service refclock-master 1 #设置本地时钟作为NTP主时钟，所处的层数为1，数字越小准确度越高</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">二、SW2/SW3/AC</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clock timezone GMT add 8 0 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp enable #启用ntp服务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp server 2001:10:4:1::1 #设置NTP服务器为2001:10:4:1::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp syn-interval 60 #同步时间的间隔，某些版本的AC输入ntp syn-interval 00:01:00</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">三、FW1/FW2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clock zone china 或者clock zone GMT 8 0  #时区设置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp server 2001:10:4:1::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp query-interval 60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">四、RT1/RT2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">time-zone GMT 8 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp source loopback 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp server 10.4.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp server 2001:10:4:1::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ntp query-interval 60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">date  #查看时间,全局下</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3小题">3小题<a href="#3小题" class="hash-link" aria-label="Direct link to 3小题" title="Direct link to 3小题">​</a></h2>
<p>3.配置接口 IPv4 地址和 IPv6 地址，互联接口 IPv6 地址用本地链路 地址。FW1 和 FW2 接口仅启用 ping 功能以及 Loopback1 的 ssh 功能。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.1.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:1::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.1.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:1::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.11.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:11::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan12</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.12.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:12::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.13.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:13::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan14</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.14.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:14::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan15</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.15.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:15::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.14 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.5 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1023</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.1 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1024</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.1 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.2.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:2::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.21.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:21::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan22</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.22.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:22::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan23</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.23.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:23::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.24.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:24::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan25</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.25.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:25::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.22 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.9 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1023</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.2 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1024</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.2 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.3.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:3::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan31</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.31.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:31::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.32.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:32::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan33</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.33.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:33::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan34</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.34.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:34::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.6 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.10 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.3.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:3::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan110</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.110.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:110::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan120</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.120.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:120::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1015</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.30 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1017</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 200.200.200.1 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1018</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 200.200.200.5 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.4.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:4::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.4.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:4::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.4.3 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:4::3/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vlan 130;140;150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vlan 1001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">switchport interface ethernet 1/0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan1001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.46 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.130.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:130::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.140.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:140::1/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.150.1 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:150::1/64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.5.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:5::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.5.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:5::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.5.3 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:5::3/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.5.4 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:5::4/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.5.5 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:5::5/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.33 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.18 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.21 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.25 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int s1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.37 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int s1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.41 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.6.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:6::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.6.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:6::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.6.3 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:6::3/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.6.4 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:6::4/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int loopback5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.6.5 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:6::5/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int tunnel4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.50 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.34 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.45 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 200.200.200.6 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int s1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.42 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int s1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.38 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.7.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:7::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.7.2 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:7::2/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.7.3 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:7::3/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.7.4 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:7::4/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface tunnel4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone VPNHub</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.49 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.13 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.17 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone untrust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 200.200.200.2 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.8.1 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 address 2001:10:4:8::1/128</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone dmz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.26 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zone trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip address 10.4.255.29 255.255.255.252</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>注意：IP配置完之后划端口，接线</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4小题">4小题<a href="#4小题" class="hash-link" aria-label="Direct link to 4小题" title="Direct link to 4小题">​</a></h2>
<p>4.SW2 配置 DHCPv4 和 DHCPv6，分别为 Vlan11、Vlan21、Vlan130、 Vlan140、Vlan150 分配地址。DHCPv4 地址池名称分别为 PC1、PC2、 AP1、POOLv4-VLAN11、POOLv4-VLAN21、POOLv4-VLAN130、POOLv4- VLAN140、POOLv4-VLAN150，排除网关，DNS 为 10.4.210.101 和 10.4.220.101。
DHCPv6 地址池名称分别为 POOLv6-VLAN11、POOLv6- VLAN21、POOLv6-VLAN130、POOLv6-VLAN140、POOLv6-VLAN150，DHCPv6 地址池用网络前缀表示,排除网关，DNS 为 2400:3200::1。
PC1 保留地 址 10.4.11.9（DHCPv4 地址池名称为 PC1）和 2001:10:4:11::9，PC2 保留地址10.4.21.9（DHCPv4 地址池名称为 PC2）和2001:10:4:21::9， AP1 保 留 地 址 10.4.130.9 （ DHCPv4 地 址 池 名 称 为 AP1 ） 和 2001:10:4:130::9。
SW1、AC1 中继地址为 SW2 Loopback1 地址。SW1 启用 DHCPv4 和 DHCPv6 snooping 功能，如果 E1/0/1 连接 DHCPv4 服 务器，则关闭端口，恢复时间为 10 分钟。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">全局下配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcp #启动DHCP服务器</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcpv6 #启动dhcpv6服务器</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN11 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool POOLv4-VLAN11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 10.4.11.0 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.11.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.102</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN21 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool POOLv4-VLAN21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 10.4.21.0 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.21.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.102</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN130 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool POOLv4-VLAN130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 10.4.130.0 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.130.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN140 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool POOLv4-VLAN140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 10.4.140.0 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.140.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.102</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN150 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool POOLv4-VLAN150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 10.4.150.0 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.150.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.102</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">排除网关</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp excluded-address 10.4.11.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp excluded-address 10.4.21.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp excluded-address 10.4.130.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp excluded-address 10.4.140.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp excluded-address 10.4.150.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN11 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp pool POOLv6-VLAN11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 2001:10:4:11::1 64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static-binding 2001:10:4:11::9 00-68-eb-9d-bb-7e</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excluded-address 2001:10:4:11::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN21 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp pool POOLv6-VLAN21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 2001:10:4:21::1 64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static-binding 2001:10:4:21::9 98-0e-24-c4-00-e1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excluded-address 2001:10:4:21::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN130 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp pool POOLv6-VLAN130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 2001:10:4:130::1 64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">static-binding 2001:10:4:130::9 00-03-0f-8a-1f-d0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excluded-address 2001:10:4:130::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN140 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp pool POOLv6-VLAN140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 2001:10:4:140::1 64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excluded-address 2001:10:4:140::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">VLAN150 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp pool POOLv6-VLAN150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network-address 2001:10:4:150::1 64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">excluded-address 2001:10:4:150::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp server POOLv6-VLAN21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 1023</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp server POOLv6-VLAN11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp server POOLv6-VLAN130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp server POOLv6-VLAN140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp server POOLv6-VLAN150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">备注</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra #关闭禁止IPv6路由器公告</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">这条命令禁止路由器抑制发送路由广告（RA）消息。路由广告是由路</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">由器发送给网络中的设备，用于通知设备有关IPv6网络配置的重要信息，比如路由器的地址、前缀长度</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">等。通过禁止抑制路由广告，设备可以获得来自路由器的网络配置信息。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag #这条命令设置设备的NDP管理配置标志。当设备收到路由广告消</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">息时，如果这个标志被设置为1，设备将使用DHCPv6来获取IPv6地址配置。这意味着设备将向DHCP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">v6服务器发送请求以获取IPv6地址，而不是通过自动配置获取。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag #无地址配置时主机应使用DHCPv6协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">这条命令设置设备的NDP其他配置标志。当设备收到路由广告消息时，如果这个标志被设置为1，设备将</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">使用DHCPv6来获取除IPv6地址之外的其他配置，比如DNS服务器地址、NTP服务器地址等。这样，设备可</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">以通过DHCPv6服务器获取完整的IPv6网络配置。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra #禁止IPv6路由器公告</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag #地址配置时主机应使用DHCPv6协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag #无地址配置时主机应使用DHCPv6协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AC配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ipv6 nd suppress-ra</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd managed-config-flag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nd other-config-flag</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">AP保留 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool AP1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">host 10.4.130.9 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hardware-address 00-03-0F-d9-bc-00</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.130.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.101</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PC1保留 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool PC1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">host 10.4.11.9 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hardware-address 00-68-EB-9D-BB-7E</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.11.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.101</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PC2保留 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp pool PC2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">host 10.4.21.9 255.255.255.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hardware-address 98-0E-24-C4-00-E1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-router 10.4.21.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 10.4.210.101 10.4.220.101</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dns-server 2400:3200::1 #配置dns</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1 中继配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip forward-protocol udp bootps #转发67号端口udp报文</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcpv6 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip helper-address 10.4.2.1 #指定中继地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp relay destination 2001:10:4:2::1 #指定dhcpv6中继地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1 dhcp snooping 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp snooping enable #全局启用dhcp侦听</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">savi enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp snooping remote-id option    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp snooping subscriber-id option</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int e1/0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp snooping action shutdown recovery 600</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int e1/0/23  #因为这个端口是通过地址池所对应网络的端口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip dhcp snooping trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp snooping trust</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AC 中继配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip forward-protocol udp bootps #转发67号端口udp报文</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">service dhcpv6 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip helper-address 10.4.2.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp relay destination 2001:10:4:2::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip helper-address 10.4.2.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp relay destination 2001:10:4:2::1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip helper-address 10.4.2.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 dhcp relay destination 2001:10:4:2::1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">no ip dhcpd enable  #关闭RT1和RT的默认dhcp功能，不然AP会获取不到地址</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>释义1、dhcp中继
当DHCP 客户机和DHCP服务器不在同一个网段时，由DHCP中继传递DHCP报文。增 加DHCP中继功能的好处是不必为每个网段都设置DHCP服务器，同一个DHCP服务器可以 为很多个子网的客户机提供网络配置参数，既节约了成本又方便了管理。<br>
<!-- -->2、dhcp snooping
DHCP侦听功能，指交换机监测DHCP CLIENT通过DHCP协议获取IP的过程。它通过设置信任端口和非信任端口，来防止 DHCP 攻击及私设 DHCP SERVER。 注：dhcp snooping需要在客户端所连接的设备配置，不是dhcp server
配置思路：
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1710063012750-19ba03f1-2d4e-4bb7-88ea-94323626d603.png#averageHue=%23ebebeb&amp;clientId=u1795e77b-f101-4&amp;from=paste&amp;height=215&amp;id=uea107888&amp;originHeight=269&amp;originWidth=442&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=50986&amp;status=done&amp;style=none&amp;taskId=u428fe1eb-1c98-4561-932e-f5690677db0&amp;title=&amp;width=353.6" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5小题">5小题<a href="#5小题" class="hash-link" aria-label="Direct link to 5小题" title="Direct link to 5小题">​</a></h2>
<p>5.整体要求：SW1、SW2、SW3、RT1 以太链路、RT2 以太链路、FW1、FW2、AC1 之 间运行 OSPFv2 和 OSPFv3 协议（路由模式发布网络用网络地址，按照 IP 地址从小到大的顺序发布。每个 prefix-list 的序号从 5 开始， 按照 IP 地址从小到大的顺序递增 5；route-map 的序号从 10 开始， 递增 10，route-map 名称与 prefix-list 名称相同。每个 ACL 序号从10 开始，按照 IP 地址从小到大的顺序递增 10）。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">1、启动OSPFv3协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router IPv6 ospf 1 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ospf释义1、OSPF协议：即“开放最短路径优先协议”。它是一种基于链路状态的自治系统内部的动态路由协议，它通过三层交换机间交换链路状态信息来组成一个链路状态数据库，然后基于这个数据库用最短路径优先算法生成路由表。<br>
<!-- -->2、OSPFv3协议：即“开放最短路径优先协议”第三版，是OSPF协议 的IPv6版本。
IP路由策略释义在DCNOS中提供了route-map、acl、as-path、community-list 和 ip-prefix 五种过滤器供路由协议引用<br>
<!-- -->1、route-map：用于控制和改变路由信息，也可以控制路由之间的重新分配。 一个route-map 包含一系列match和set命令，match命令指定需要满足的条件，set命令则指明了当match 条件匹配时要采取的相应动作。<br>
<!-- -->2、ACL（访问控制列表）： 交换机实现的一种数据包过滤机制，通过允许或拒绝特定的 数据包进出网络，交换机可以对网络访问进行控制，。用户可以基 于报文中的特定信息制定一组规则（rule），每条规则都描述了对匹配一定信息的数据包所 采取的动作：允许通过（permit）或拒绝通过（deny）。<br>
<!-- -->3、prefix-list(前  缀列表)： 前缀列表ip-prefix 的作用类似于acl，但比它更为灵活，且更易于为用户理解。ip-prefix 在应用于路由信息的过滤时，其匹配对象为路由信息的目的地址信息域。
4、as-path( 自治系统路径信息访问列表)：
5、 community-list (团体属性列表)：
具体要求：
(1)、SW1、SW2、SW3、RT1、RT2、FW1 之间 OSPFv2 和 OSPFv3 协议，process 1，area 0，分别发布 Loopback1 地址路由和产品路由，FW1 通告 type1 默认路由。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-area-0-配置">5.1 area 0 配置<a href="#51-area-0-配置" class="hash-link" aria-label="Direct link to 5.1 area 0 配置" title="Direct link to 5.1 area 0 配置">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ospf router-id 10.4.1.1       #router-id用各自loopback1的地址，IP地址分配表里有提到</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.1.1/32 area 0    #lop 1网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.11.0/24 area 0   #vlan 11网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.0/30 area 0  #vlan 1023/1024网络，与SW2相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.4/30 area 0  #vlan 1020网络 与SW3 19相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.12/30 area 0 #vlan 1019网络 与FW1 1口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1023</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW2 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ospf router-id 10.4.2.1       #loopback1的地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.2.1/32 area 0    #loopback1的地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.21.0/24 area 0   #vlan 21网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.0/30 area 0  #vlan 1023/1024网络，与SW1相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.8/30 area 0  #vlan 1020 与SW3 20口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.20/30 area 0 #vlan 1019 与RT1 2口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW2 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.2.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface vlan21</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1023</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ospf router-id 10.4.3.1       #loopback1的地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.3.1/32 area 0    #loopback1的网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.31.0/24 area 0   #vlan 31网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.255.4/30 area 0  #vlan 1019网络 与SW1 20口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.255.8/30 area 0  #vlan 1020网络 与SW2 20口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.3.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface vlan31</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1019</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1020</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 0 tag 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.5.1                          #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.5.1 255.255.255.255 area 0     #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.16 255.255.255.252 area 0  #g0/1网络，与FW1 2口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.20 255.255.255.252 area 0  #g0/2网络，与SW2 19口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.32 255.255.255.252 area 0  #g0/0网络，与RT2 0口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 unicast-routing #允许配置单播路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospfv3 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.5.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.6.1                          #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.6.1 255.255.255.255 area 0     #lo1网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.32 255.255.255.252 area 0  #g0/0网络，与RT1 0口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 unicast-routing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospfv3 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.6.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable #接口转发IPV6数据包</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 1 area 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FW1 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip vrouter trust-vr </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router-id 10.4.7.1                   #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    default-information originate type 1 #FW1 通告 type1 默认路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.7.1/32 area 0           #lo1网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.255.12/30 area 0        #E0/1网络，与SW1 19口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.255.16/30 area 0        #E0/2网络，与RT1 1口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FW1 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router ospf 1                                                                                   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router-id 10.4.7.1                                                                                 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">default-information originate type 1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf area 0 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf area 0 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf area 0 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>交换机测试
show ip route ospf
show ipv6 route nsm ospf
路由器、防火墙测试
show ip route ospf
show ipv6 route ospf
(2)、RT2 与 AC1 之间运行 OSPFv2 协议，process 1，area 1 nssa nosummary；AC1 发布 Loopback1 地址路由、管理、产品和营销路由，用 prefix-list 重发布 Loopback3，prefix-list 名称为AC1-Loopback3- IPv4。
(3)、RT2 与 AC1 之间运行 OSPFv3 协议，process 1，area 1 stub nosummary；AC1 发布 Loopback1 地址路由、管理、产品和营销路由。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-53-area-1配置">5.2-5.3 area 1配置<a href="#52-53-area-1配置" class="hash-link" aria-label="Direct link to 5.2-5.3 area 1配置" title="Direct link to 5.2-5.3 area 1配置">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.44 255.255.255.252 area 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  area 1 nssa no-summary #指定区域1为nssn区域（非完全末梢区域），不发送汇总路由信息到这个区域</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospfv3 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">area 1 stub no-summary #指定区域1为stub区域（末梢区域），禁止接受来自其他区域的外部路由汇总信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int g0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf 1 area 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">AC OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ospf router-id 10.4.4.1       #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> area 1 nssa no-summary        #区域1不发送聚合LSA到NSSA</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.4.1/32 area 1    #lo1网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.130.0/24 area 1  #vlan 130管理网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.140.0/24 area 1  #vlan 140产品网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.150.0/24 area 1  #vlan 150营销网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> network 10.4.255.44/30 area 1 #vlan 1001互联网络，与RT2 1口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> redistribute connected route-map AC1-Loopback3-IPv4 #重发布 Loopback3，prefix-list 名称为AC1-Loopback3- IPv4。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ip prefix-list AC1-Loopback3-IPv4 seq 5 permit 10.4.4.3/32 #建立前缀列表，序列号为5，允许lo1通过。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-map AC-Loopback3-IPv4 permit 10 #定义route-map，名称和前缀列表相同，序列号为10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  match ip address prefix-list AC-Loopback3-IPv4 #下一条匹配名称为AC-Loopback3-IPv4的前缀列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> AC OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.4.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  area 1 stub no-summary #指定区域1为stub区域（末梢区域），禁止接受来自其他区域的外部路由汇总信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> int loop 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ipv6 router ospf area 1 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> int vlan 1001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ipv6 router ospf area 1 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> int vlan 130</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ipv6 router ospf area 1 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> int vlan 140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ipv6 router ospf area 1 tag 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> int vlan 150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ipv6 router ospf area 1 tag 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(4)、RT1、FW2、SW3 模拟办事处之间运行 OSPFv2 和 OSPFv3 协议，process 2，area 2。SW3 模拟办事处发布 Loopback2、产品和营销路由。FW2 发布 Loopback1 路由。RT1 发布 Loopback4 路由，向该区域通告 type1 默认路由；RT1 用 prefix-list 匹配 SW3 模拟办事处 Loopback2 和产 品路由、FW2 Loopback1 路由(prefix-list 名称分别为 SW3-FW2-IPv4 和 SW3-FW2-IPv6)、RT1 与 FW2 直连 IPv4 路由(prefix-list 名称为 RT1-FW2-IPv4)，以上路由重发布到 process 1。
(5)修改 ospf cost 为 100，实现 SW1 分别与 RT2、FW2 之间 IPv4 和 IPv6 互访流量优先通过 SW1-SW2-RT1 链路转发，SW2 访问 Internet IPv4 和 IPv6 流量优先通过 SW2-SW1-FW1 链路转发。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-55-area-2配置">5.4-5.5 area 2配置<a href="#54-55-area-2配置" class="hash-link" aria-label="Direct link to 5.4-5.5 area 2配置" title="Direct link to 5.4-5.5 area 2配置">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 2 vrf Office #在名为Office虚拟路由转发实例中运行ospf，进程号为2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ospf router-id 10.4.3.2        #办事处lo2地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.3.2/32 area 2     #lo2网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.110.0/24 area 2   #vlan 110办事处产品网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.120.0/24 area 2   #vlan 120办事处营销网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.28/30 area 2  #vlan 1015网络，与FW2 2口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 2 vrf Office</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.3.2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int lo2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 110</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 120</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int vlan 1015</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>show ip route vrf Office #查询VPN实例路由信息</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FW2 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrouter trust-vr </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router ospf 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router-id 10.4.8.1                   #lo1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.8.1/32 area 2           #lo1网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.255.24/30 area 2        #E0/1网络，与RT1 3口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.255.28/30 area 2        #E0/2网络，与SW3 15口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FW2 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router ospf 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.8.1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf 2 area 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int e0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf 2 area 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface e0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf 2 area 2 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 OSPFv2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.5.4 #IP地址分配表中有说明，lo4为办事处与sw3相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.5.4 255.255.255.255 area 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.255.24 255.255.255.252 area 2  #g0/3网络，与FW2 1口相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  default-information originate always metric-type 1 #通告type1默认路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 OSPFv3配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospfv3 2 #进入OSPFv3进程2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.5.4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  default-information originate always metric-type 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int lo4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 2 area 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 ospf 2 area 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 配置前缀列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-FW2-IPv4 seq 5 permit 10.4.3.2/32    #匹配SW3 LO2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-FW2-IPv4 seq 10 permit 10.4.8.1/32   #匹配FW2 LO1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-FW2-IPv4 seq 15 permit 10.4.110.0/24 #匹配SW3 产品v110</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list RT1-FW2-IPv4 seq 20 permit 10.4.255.24/30 #匹配直连路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-FW2-IPv6 seq 5 permit 2001:10:4:3::2/128  #SW3 LO2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-FW2-IPv6 seq 10 permit 2001:10:4:8::1/128 #FW2 LO1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-FW2-IPv6 seq 15 permit 2001:10:4:110::/64 #SW3 V110</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map SW3-FW2-IPv4 10 permit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  match ip address prefix-list SW3-FW2-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map SW3-FW2-IPv6 20 permit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  match ipv6 address prefix-list SW3-FW2-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map RT1-FW2-IPv4 30 permit              </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  match ip address prefix-list RT1-FW2-IPv4 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">重发布</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospf 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  redistribute ospf 2 route-map SW3-FW2-IPv4  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  redistribute connect route-map RT1-FW2-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ospfv3 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  redistribute ospf 2 route-map SW3-FW2-IPv6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FW1配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int e0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip ospf cost 100   #cost值越高，优先级越低，默认是1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf cost 100</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int e0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip ospf cost 100</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 ospf cost 100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>未修改前，开销值一样，优先级也一样
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714559335232-a771efc7-84d6-4b32-ba66-a564598990db.png#averageHue=%231d1207&amp;clientId=ua51c271e-251b-4&amp;from=paste&amp;height=267&amp;id=udb6cff47&amp;originHeight=267&amp;originWidth=1370&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=48922&amp;status=done&amp;style=none&amp;taskId=u3f2a64e1-9d0c-4036-870a-d31eb07bba6&amp;title=&amp;width=1370" alt="image.png" class="img_ev3q">
修改后，由于vlan1019的cost值变高，所以只剩cost值低的路径
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714559514821-8d6ae117-e287-4864-a598-1b2aef7131f7.png#averageHue=%231d1208&amp;clientId=ua51c271e-251b-4&amp;from=paste&amp;height=166&amp;id=u0abfeac8&amp;originHeight=166&amp;originWidth=1370&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=27946&amp;status=done&amp;style=none&amp;taskId=u80138677-282d-447f-bcfc-a44b5a2c65f&amp;title=&amp;width=1370" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714903182031-c2c97ddb-6d69-45e5-9115-7a5572e4714e.png#averageHue=%23080604&amp;clientId=u2e762896-2608-4&amp;from=paste&amp;height=624&amp;id=u91521070&amp;originHeight=702&amp;originWidth=1615&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=97573&amp;status=done&amp;style=none&amp;taskId=uaf92b303-5a73-4414-9852-5ff3bf3e33f&amp;title=&amp;width=1435.5555555555557" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714903070828-1681b482-0c2d-4c5f-92f8-1e464fa59a39.png#averageHue=%23080604&amp;clientId=u2e762896-2608-4&amp;from=paste&amp;height=245&amp;id=ub125f6ce&amp;originHeight=276&amp;originWidth=1615&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=41870&amp;status=done&amp;style=none&amp;taskId=u19973ec0-d21f-4b86-85e1-f21a9c57a3a&amp;title=&amp;width=1435.5555555555557" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6小题">6小题<a href="#6小题" class="hash-link" aria-label="Direct link to 6小题" title="Direct link to 6小题">​</a></h2>
<p>6.RT1 串行链路、RT2 串行链路、FW1、AC1 之间分别运行 RIP 和 RIPng 协议，分别发布 Loopback2 地址路由（FW1 的 RIPng 发布路由时用接口名称）。RT1 配置 offset 值为 3 的路由策略，实现 RT1/S1/0- RT2/S1/1 为主链路，RT1/S1/1-RT2/S1/0 为备份链路，IPv4 的 ACL 名 称为 ACL-RIP-IPv4，IPv6 的 ACL 名称为 ACL-RIP-IPv6。RT1 的 S1/0 与 RT2 的 S1/1 之间采用 chap 双向认证，用户名为对端设备名称，密码为 Key-1122。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">aaa authentication ppp default local #设置ppp认证，默认使用本地用户和密码</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">username RT2 password 0 Key-1122 		 #创建用户，用户名为RT2，密码为Key-1122</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  physical-layer speed 2048000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  encapsulation ppp  					 #接口封装协议为ppp协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp authentication chap  		 #使用chap协议进行认证</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp chap hostname RT1				 #设置chap 用户名</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp chap password 0 Key-1122 #设置chap 用户名密码</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  encapsulation ppp							#不配这个ipv6启动不了</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  physical-layer speed 2048000  #不配这个通信不了</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">aaa authentication ppp default local</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">username RT1 password 0 Key-1122</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">physical-layer speed 2048000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">encapsulation ppp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp authentication chap </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp chap hostname RT2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ppp chap password 0 Key-1122</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  encapsulation ppp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  physical-layer speed 2048000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACL配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip access-list standard ACL-RIP-IPv4 #创建标准ACL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">permit any sequence 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 access-list ACL-RIP-IPv6 				#创建ipv6 ACL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">permit ipv6 any any sequence 10   		#允许ipv6的任何源前缀到任何目的前缀，序列号为10，待验证，上面不用目的地址，这里为什么用？</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 配置RIP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router rip 1 												#启动rip，进程号为1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version 2 													#指定rip的版本为2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no auto-summary										 	#关闭自动汇总</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">offset Serial1/1 in ACL-RIP-IPv4 3 	#添加RIP路由权值偏移量，应用在s1/1口in方向，acl名称为ACL-RIP-IPv4 偏移量值为3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">offset Serial1/1 out ACL-RIP-IPv4 3	#添加RIP路由权值偏移量，应用在s1/1口out方向，acl名称为ACL-RIP-IPv4 偏移量值为3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">会比s1/0多3跳，所以路由可以会优先选择s1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 配置RIPng</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ripng 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">offset Serial1/1 in ACL-RIP-IPv6 3 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">offset Serial1/1 out ACL-RIP-IPv6 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">应用RIP和RIPng到接口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable     #在端口启用RIP 	进程</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6 rip 1 enable	#在端口启用RIPng 进程</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 配置RIP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router rip 1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">version 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">no auto-summary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 配置RIPng</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ripng 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">应用RIP和RIPng到接口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Serial1/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip rip 1 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 rip 1 enable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrouter &quot;trust-vr&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router rip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network 10.4.7.2/32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network 10.4.255.16 255.255.255.252</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router rip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network ethernet0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router rip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network 10.4.4.2/32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">network 10.4.255.44/30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 rip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router rip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router rip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>验证
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714915673234-8156cb7b-2969-40e6-99d6-543f6cf4f180.png#averageHue=%23140e09&amp;clientId=u2ae92484-be5c-4&amp;from=paste&amp;height=378&amp;id=ufe6be1c2&amp;originHeight=425&amp;originWidth=1160&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=54919&amp;status=done&amp;style=none&amp;taskId=u8e84a321-dfee-467c-9a3f-76037979503&amp;title=&amp;width=1031.111111111111" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714915647541-a91a7480-6b8a-4340-87bd-dbd8bb6e95d4.png#averageHue=%23180e06&amp;clientId=u2ae92484-be5c-4&amp;from=paste&amp;height=201&amp;id=u0be82b0e&amp;originHeight=226&amp;originWidth=1160&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=35203&amp;status=done&amp;style=none&amp;taskId=u3e96e54c-3d6b-411f-8c48-d40ca379b94&amp;title=&amp;width=1031.111111111111" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714921019278-72978ccc-d467-4dcb-bcf6-81fa6de8f2a7.png#averageHue=%230b0805&amp;clientId=u401221bd-813d-4&amp;from=paste&amp;height=367&amp;id=u08245404&amp;originHeight=413&amp;originWidth=1117&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=36929&amp;status=done&amp;style=none&amp;taskId=ua6b909c6-7bfd-4166-95e0-ddc76052351&amp;title=&amp;width=992.8888888888889" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7小题">7小题<a href="#7小题" class="hash-link" aria-label="Direct link to 7小题" title="Direct link to 7小题">​</a></h2>
<p>7.RT1 以太链路（物理速率为 2048000）、RT2 以太链路、FW1 之间运 行 ISIS 协议，instance 1 ，实现 Loopback3 之间 IPv4 互通和 IPv6 互通。RT1、RT2、FW1 的 NET 分别为 10.0000.0000.0005.00、 10.0000.0000.0006.00 、 10.0000.0000.0007.00 ， 路 由 器 类 型 是 Level-2，互联接口网络类型为点到点。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ISIS协议即中间系统到中间系统，是一种基于链路状态并使用最短路径优先算法进行路由的IGP（内部网关）协议</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1 配置ISIS路由协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router isis 1 								 #进入ISIS进程1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  is-type level-2 						 #设置路由器类型为level-2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  net 10.0000.0000.0005.00 		 #设置net</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0			 #与RT2相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip router isis 1  					 #启动Ipv4 isis 进程1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router isis 1					 #启动Ipv6 isis 进程1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis network point-to-point  #设置ISIS的网络类型为点到点</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface G0/1								 #与FW1相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis network point-to-point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT2 配置ISIS路由协议</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router isis 1 								 #进入ISIS进程1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  is-type level-2 						 #设置路由器类型为level-2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  net 10.0000.0000.0006.00 		 #设置net</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0			 #与RT1相连</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip router isis 1  					 #开启Ipv4 isis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis network point-to-point  #设置ISIS的网络类型为点到点</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router isis 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ip vrouter &quot;trust-vr&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router isis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    net 10.0000.0000.0007.00</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is-type level-2-only</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface ethernet0/2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis network point-to-point</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface loopback3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  isis ipv6 enable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>验证<strong>查看isis的邻居</strong>
<strong>show isis neighbors</strong>
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711530270541-e52b8cdf-af9d-427b-a7fc-6d30760c850a.png#averageHue=%2315120f&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=193&amp;id=u0ec2a9e0&amp;originHeight=193&amp;originWidth=1276&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=29350&amp;status=done&amp;style=none&amp;taskId=uc9f23e79-82ae-41da-a291-b3b2dbbed58&amp;title=&amp;width=1276" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711530344994-983a4fe2-7f5c-44ef-8676-d5073046ab4c.png#averageHue=%230c0a08&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=162&amp;id=ua4ee6d76&amp;originHeight=162&amp;originWidth=1164&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=20860&amp;status=done&amp;style=none&amp;taskId=u32d741cb-b0cd-4ee0-b470-b0f94be3f56&amp;title=&amp;width=1164" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711530314834-e1c805be-4b7c-476d-9012-ef7eed39c71b.png#averageHue=%23100b06&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=100&amp;id=u4fc70337&amp;originHeight=100&amp;originWidth=1245&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=16801&amp;status=done&amp;style=none&amp;taskId=u99f13816-b737-4f9e-85ac-f086029f2c9&amp;title=&amp;width=1245" alt="image.png" class="img_ev3q">
<strong>RT1</strong>
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711525923844-9eba1a65-05be-4b89-82c9-1992028ddb87.png#averageHue=%230e0a07&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=160&amp;id=VT0Lk&amp;originHeight=160&amp;originWidth=1400&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=27157&amp;status=done&amp;style=none&amp;taskId=u8aaae9eb-eba8-49f4-8e4a-2ee4dbbde1c&amp;title=&amp;width=1400" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711525947313-4f4b8ede-cc45-4c92-bf84-64ce19f50e92.png#averageHue=%23160e08&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=161&amp;id=ueb65bfb7&amp;originHeight=161&amp;originWidth=1219&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=31535&amp;status=done&amp;style=none&amp;taskId=u0005ce68-6f40-4bb1-b87a-04e7ccce03b&amp;title=&amp;width=1219" alt="image.png" class="img_ev3q">
<strong>RT2</strong>
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711525887714-359ae990-c592-44d0-8802-2d9ae26781b3.png#averageHue=%230d0a07&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=197&amp;id=u70827a62&amp;originHeight=197&amp;originWidth=1381&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=31163&amp;status=done&amp;style=none&amp;taskId=uf5cc5b70-e3c4-48b1-8606-1e47a4c5fe4&amp;title=&amp;width=1381" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711526087274-3ef1bef0-29db-41b3-a74e-9fc4b5a1004e.png#averageHue=%23160f08&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=163&amp;id=ub64674f6&amp;originHeight=163&amp;originWidth=1222&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=32050&amp;status=done&amp;style=none&amp;taskId=u6d4956df-ffef-4653-be8d-994bc0f87e9&amp;title=&amp;width=1222" alt="image.png" class="img_ev3q">
<strong>FW1</strong>
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711526123131-f6e6dfc8-d5de-40c1-82be-0ebd0396bb0d.png#averageHue=%23130f0b&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=386&amp;id=u4b308c1f&amp;originHeight=386&amp;originWidth=1155&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=58096&amp;status=done&amp;style=none&amp;taskId=u5441b9e9-54cb-4c3c-b77d-5947362f707&amp;title=&amp;width=1155" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1711526152843-2433036d-3883-4217-98c9-43ce45756e5a.png#averageHue=%23120d09&amp;clientId=ub0e526e7-29f8-4&amp;from=paste&amp;height=380&amp;id=u22a92687&amp;originHeight=380&amp;originWidth=1066&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=50822&amp;status=done&amp;style=none&amp;taskId=u09176260-723e-4439-bf42-ea202e821a4&amp;title=&amp;width=1066" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8小题">8小题<a href="#8小题" class="hash-link" aria-label="Direct link to 8小题" title="Direct link to 8小题">​</a></h2>
<p>8.SW1、SW2、SW3、RT1、RT2 之间运行 BGP 协议，SW1、SW2、RT1 AS 号 65001、RT2 AS 号 65002、SW3 AS 号 65003。 SW1、SW2、SW3、RT1、RT2 之间通过 Loopback1 建立 IPv4 和 IPv6 BGP 邻居。 SW1 和 SW2 之间财务通过 Loopback2 建立 IPv4 和 IPv6 BGP 邻居。SW1 和SW2的Loopback2 IPv4互通采用静态路由；IPv6互通采用OSPFv3， process 2，area 2。 SW1、SW2、SW3 分别只发布营销、法务、人力、财务等 IPv4 和 IPv6  路由；RT1 发布办事处营销 IPv4 和 IPv6 路由到 BGP；RT2 发布分公 司营销 IPv4 和 IPv6 路由到 BGP。 SW3 营销分别与 SW1 和 SW2 营销 IPv4 和 IPv6 互访优先在 SW1-SW3 链路转发；SW3 法务及人力分别与 SW1 和 SW2 法务及人力 IPv4 和 IPv6 互访优先在 SW2-SW3 链路转发，主备链路相互备份；在 SW3 上用 prefix-list、route-map 和 BGP 路径属性进行选路，新增 AS 65000。（SW1 和 SW2 营销路由 prefix-list 名称分别为 SW1-SW2-YX-IPv4 和 SW1-SW2-YX-IPv6、法务及人力路由 prefix-list 名称分别为 SW1- SW2-FWRL-IPv4 和 SW1-SW2-FWRL-IPv6；SW3 营销路由 prefix-list 名 称分别为SW3-YX-IPv4 和 SW3-YX-IPv6、法务及人力路由prefix-list 名称分别为 SW3-FWRL-IPv4 和 SW3-FWRL-IPv6）
红色部分
<strong>方案一</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IPV4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001  			#进入BGP，自治系统号为65001，1台设备只能存在一个自治区域</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bgp router-id 10.4.1.1 #设置BGP router-id，IP地址分配表里有说明</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 remote-as 65001 					#与SW2建立邻居，邻居地址为题目要求的loop1地址，是对方的loop1地址，65001是对方的AS号</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 update-source Loopback1  #建立邻居的路由更新源为loop1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 next-hop-self  					#SW1和SW2属于同一自治区域，是IBGP环境，需要手动指定下一跳，不同自治区域是EBGP环境，下一跳会自动指向来源邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 remote-as 65003  				#与SW3建立邻居，SW3的自治区域号为65003，这里是EBGP环境</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 ebgp-multihop 255 				#建立Ebgp邻居关系，跳数为最大255，这条命令可以让不同网段之间建立EBGP邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 update-source Loopback1  #指定路由更新源为loop1地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 remote-as 65001          #与RT1建立邻居，这又是一个IBGP环境</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 update-source Loopback1  #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 next-hop-self				    #指定下一跳</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 remote-as 65002 					#与RT2建立邻居，这是一个EBGP环境</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 ebgp-multihop 255        #建立EBGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 update-source Loopback1  #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> IPV6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 remote-as 65001          #与SW2建立IPV6下的Ibgp邻居关系，命令和ipv4一样，只是地址变成了IPV6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 update-source Loopback1  #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:2::1 activate              #禁用路由器之间的IPv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 remote-as 65003         #与SW3建立IPV6下的Ebgp邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 ebgp-multihop 255       #让不同网段之间可以建立EBGP邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 update-source Loopback1 #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:3::1 activate             #禁用路由器之间的IPv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 remote-as 65001				 #与RT1建立IPV6下的Ibgp邻居关系 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 update-source Loopback1 #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:5::1 activate						 #禁用路由器之间的IPv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 remote-as 65002				 #与RT2建立IPV6下的Ebgp邻居关系 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 ebgp-multihop 255       #让不同网段之间可以建立EBGP邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 update-source Loopback1 #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:6::1 activate						 #禁用路由器之间的IPv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> address-family ipv6 unicast   			   	  #进入IPV6地址族</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:2::1 activate       #激活与SW2的ipv6 BGP邻居关系  前面说了，需要在全局禁用IPV6关系，所以我们在地址族里面激活</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:2::1 next-hop-self  #指定下一跳，与SW2之间是IBGP环境，IPV6里我们在地址族里面配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:3::1 activate       #激活与SW2的ipv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:5::1 activate				#激活与RT1的ipv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:5::1 next-hop-self  #指定下一跳，与RT1之间是IBGP环境</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   neighbor 2001:10:4:6::1 activate				#激活与RT2的ipv6 BGP邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   exit-address-family                    #退出地址簇配置模式</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">激活ipv6 BGP邻居关系这条命令在BGP全局模式下和在地址簇配置模式下输入有什么区别？</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">区别在于你在BGP全局配置模式下输入，会与所有能连通的IPV6地址建立邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">在地址簇中输入，只会与地址簇中的ipv6地址建立邻居</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> SW2：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IPV4 SW1 IBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bgp router-id 10.4.2.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 remote-as 65001   </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #SW3 EBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 remote-as 65003  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #RT1 IBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 remote-as 65001  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #RT2 EBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 remote-as 65002	</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> IPV6  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #SW1 IBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #SW3 EBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 remote-as 65003</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:3::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #RT1 IBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:5::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #RT2 EBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 remote-as 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:6::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #ipv6地址簇配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> address-family ipv6 unicast </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 activate        #SW1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 next-hop-self	#下一跳</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:3::1 activate				#SW3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:5::1 activate				#RT1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:5::1 next-hop-self  #下一跳</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:6::1 activate				#RT2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit-address-family										#退出地址簇</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65003</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bgp router-id 10.4.3.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 remote-as 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:5::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 remote-as 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:6::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> address-family ipv6 unicast</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:5::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:6::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RT1：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bgp router-id 10.4.5.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 remote-as 65003 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 remote-as 65002 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.6.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 remote-as 65003 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:3::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 remote-as 65002 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:6::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:6::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> address-family ipv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  no synchronization</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:2::1 next-hop-self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:3::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:6::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> RT2：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bgp router-id 10.4.6.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.1.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.2.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 remote-as 65003 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.3.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 10.4.5.1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:1::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:2::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 remote-as 65003 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:3::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:3::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 remote-as 65001 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 ebgp-multihop 255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> neighbor 2001:10:4:5::1 update-source Loopback1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> no neighbor 2001:10:4:5::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> address-family ipv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:1::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:2::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:3::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  neighbor 2001:10:4:5::1 activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>黑色部分</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">交换配置第二小题回顾</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW1 和 SW2 之间利用三条裸光缆实现互通，其中一条裸光缆承载三层 IP 业务(23)、一条裸光缆承</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">载 VPN 业务(24)、一条裸光缆承载二层业务(22)。 用相关技术分别实现财务 1 段、财务 2 段业务</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">路由表与其它业务路由表隔离，财务业务 VPN 实例名称为 Finance，RD 为 1:1。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">这里要注意，因为前面已经要求我们财务1和2段路由表隔离了，所以这个小要求里的配置都需要与vrf关联</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">财务1段是SW1的vlan15，财务2段是SW2的vlan25，做交换机第二小题时已经把Finance这个实例关联到</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">了SW1的vlan15、vlan1024和loopback2、SW2的vlan25、vlan1024和loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip route vrf Finance 10.4.2.2/32 10.4.255.2 #配置静态路由实现SW1和SW2的loop2的IPv4互通</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 2 vrf Finance 							#在VRF实例中运行ospv3进程2（实现IPV6的loop2互通）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router-id 10.4.1.2												#配置router-id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 route vrf Finance 2001:10:4:2::2 200</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">解释：lo1是互通的，因为之前在ospf里面通告过，lo2没有通告，所以需要手动。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback2 				  	#进入loo2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2 #通告IPv6 的ospf 进程2 tag2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Vlan1024						  #进入vlan 1024 这是直连用，所以需要通告</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 router ospf area 2 tag 2 #通告IPv6 的ospf 进程2 tag2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001                  		#进入BGP AS65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv4 vrf Finance 		#进入Ipv4vrf地址族</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.15.0/24							#BGP通告财务1段</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.2.2 remote-as 65001 #指定邻居为SW2的loop2地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.2.2 update-source Loopback2 #指定更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 vrf Finance     			#进入IPV6vrf地址族</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:15::/64         			#BGP通告财务1段</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 2001:10:4:2::2 remote-as 65001 #指定邻居为SW2的loop2地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 2001:10:4:2::2 update-source Loopback2 #更新源</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip route vrf Finance 10.4.1.2/32 10.4.255.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router ipv6 ospf 2 vrf Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> router-id 10.4.2.2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router ospf area 2 tag 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface vlan 1024</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 router ospf area 2 tag 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv4 vrf Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.25.0/24							#BGP通告财务2段</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.1.2 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.1.2 update-source Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 vrf Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:25::/64					#BGP通告财务2段</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 2001:10:4:1::2 remote-as 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 2001:10:4:1::2 update-source Loopback2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>测试一、SW1测试loo2连通情况
ping vrf Finance src 10.4.1.2 10.4.2.2
ping6 vrf Finance src 2001:10:4:1::2 2001:10:4:2::2
SW2测试loo2连通情况
ping vrf Finance src 10.4.2.2 10.4.1.2
ping6 vrf Finance src 2001:10:4:2::2 2001:10:4:1::2</p>
<p>二、路由学习测试
show ip route vrf Finance  #SW1和SW2上会有对方财务 段的BGP路由
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714918916723-e713549b-9341-405f-9a4d-b7eb4d1936c7.png#averageHue=%230c0906&amp;clientId=udcaddb26-962f-4&amp;from=paste&amp;height=314&amp;id=u1c3ccd3b&amp;originHeight=353&amp;originWidth=1470&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=54491&amp;status=done&amp;style=none&amp;taskId=u481b9d54-c8bd-4b17-8980-7278b951ad4&amp;title=&amp;width=1306.6666666666667" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714918856928-f89dd77b-83f7-4f07-a231-1d497aeeef5a.png#averageHue=%230b0806&amp;clientId=udcaddb26-962f-4&amp;from=paste&amp;height=336&amp;id=ua31abfde&amp;originHeight=378&amp;originWidth=1470&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=56888&amp;status=done&amp;style=none&amp;taskId=u0bee85f4-e750-42c8-b2b6-4277aff1a0c&amp;title=&amp;width=1306.6666666666667" alt="image.png" class="img_ev3q"></p>
<p>紫色部分</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.12.0/24 				 #通告营销1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.13.0/24 			   #通告法务1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.14.0/24   		   #通告人力1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 unicast  #进入IPv6地址簇，通告IPv6只能在地址簇里通告</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:12::/64  #通告营销1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:13::/64  #通告法务1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:14::/64  #通告人力1段网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family        #退出地址簇</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.22.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.23.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.24.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 unicast</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:22::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:23::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:24::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65003</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.32.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.33.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.34.0/24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 unicast</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:32::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:33::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:34::/64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SW3没有财务路由，不需要发布</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.120.0/24 –办事处营销路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:120::/64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network 10.4.150.0/24 –分公司营销路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:150::/64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>测试(展示部分)
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714810177910-43c32643-d9e1-45d6-b9c5-1aa88bc99daf.png#averageHue=%231a1008&amp;clientId=u54b87adb-d758-4&amp;from=paste&amp;height=402&amp;id=ucb3abb1c&amp;originHeight=452&amp;originWidth=1656&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=103614&amp;status=done&amp;style=none&amp;taskId=u5e53ef11-14ed-44cc-981d-c9addd59252&amp;title=&amp;width=1472" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714810080384-7fef6542-98ea-40cd-8738-b4c88acb331a.png#averageHue=%230d0803&amp;clientId=u54b87adb-d758-4&amp;from=paste&amp;height=328&amp;id=u74681ad5&amp;originHeight=369&amp;originWidth=1220&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=39702&amp;status=done&amp;style=none&amp;taskId=u63411d24-8ebf-48e3-a8f7-eec694a97f6&amp;title=&amp;width=1084.4444444444443" alt="image.png" class="img_ev3q">
绿色部分</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">前缀列表名称</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">营销：SW3-YX-IPv4和SW3-YX-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">法务及人力：SW3-FWRL-IPv4和SW3-FWRL-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">营销路由互访优先从SW1走，法务和人力路由互访优先从SW2走</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">注意：同一个prefix-list名根据序号不同，可以匹配多个网络；同一个route-map，根据序号不同，可以匹配多个perfix-list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">序号递增依据：同一个prefix-list依次递增5，同一个route-map，依次递增10，按前面ospf那个题里的要求来</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">第一步：IPv4前缀列表配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-YX-IPv4 seq 5 permit 10.4.12.0/24    #SW1营销网络 vlan12</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-YX-IPv4 seq 10 permit 10.4.22.0/24   #SW2营销网络 vlan22</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-FWRL-IPv4 seq 5 permit 10.4.13.0/24  #SW1法务网络 vlan13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-FWRL-IPv4 seq 10 permit 10.4.14.0/24 #SW1人力网络 vlan14</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-FWRL-IPv4 seq 15 permit 10.4.23.0/24 #SW2法务网络 vlan23</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW1-SW2-FWRL-IPv4 seq 20 permit 10.4.24.0/24 #SW2人力网络 vlan24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-YX-IPv4 seq 5 permit 10.4.32.0/24        #SW3营销网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-FWRL-IPv4 seq 5 permit 10.4.33.0/24      #SW3法务网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip prefix-list SW3-FWRL-IPv4 seq 10 permit 10.4.34.0/24     #SW3人力网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">第二步：IPv6前缀列表配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-YX-IPv6 seq 5 permit 2001:10:4:12::/64  #SW1营销网络 vlan12</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-YX-IPv6 seq 10 permit 2001:10:4:22::/64 #SW2营销网络 vlan22</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-FWRL-IPv6 seq 5 permit 2001:10:4:13::/64  #SW1法务网络 vlan13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-FWRL-IPv6 seq 10 permit 2001:10:4:14::/64 #SW1人力网络 vlan14</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-FWRL-IPv6 seq 15 permit 2001:10:4:23::/64 #SW2法务网络 vlan23</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW1-SW2-FWRL-IPv6 seq 20 permit 2001:10:4:24::/64 #SW2人力网络 vlan24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-YX-IPv6 seq 5 permit 2001:10:4:32::/64     #SW3营销网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-FWRL-IPv6 seq 5 permit 2001:10:4:33::/64   #SW3法务网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 prefix-list SW3-FWRL-IPv6 seq 10 permit 2001:10:4:34::/64  #SW3人力网络</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SW3上的prefix-list有四种：sw1-sw2的营销、sw1-sw2的法务和人力、sw3的营销、sw3的法务和人力</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">第三步：route-map匹配ipv4前缀列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv4 permit 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW1-SW2-YX-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv4 permit 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW3-YX-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv4 permit 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW1-SW2-FWRL-IPv4  #匹配SW1与SW2 人力法务的前缀列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> set as-path prepend 65000                      #新增AS65000,会比没新增的多一跳</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv4 permit 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW1-SW2-FWRL-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv4 permit 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW3-FWRL-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv4 permit 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ip address prefix-list SW1-SW2-YX-IPv4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> set as-path prepend 65000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">第四步：route-map匹配ipv6前缀列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv6 permit 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW1-SW2-YX-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv6 permit 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW3-YX-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map YX-IPv6 permit 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW1-SW2-FWRL-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> set as-path prepend 65000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv6 permit 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW1-SW2-FWRL-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv6 permit 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW3-FWRL-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">route-map FWRL-IPv6 permit 30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> match ipv6 address prefix-list SW1-SW2-YX-IPv6</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> set as-path prepend 65000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">第五步：bgp中匹配route-map</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65003</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">neighbor 10.4.1.1 route-map YX-IPv4 in </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">neighbor 10.4.2.1 route-map FWRL-IPv4 in </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">address-family ipv6 unicast</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">neighbor 2001:10:4:1::1 route-map YX-IPv6 in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">neighbor 2001:10:4:2::1 route-map FWRL-IPv6 in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">做完之后在特权模式下更新一些BGP进程</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clear ip bgp * soft </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clear bgp ipv6 * soft</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>测试
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714919671968-9f68dc12-ef66-4e65-8967-932da980009d.png#averageHue=%23080604&amp;clientId=u401221bd-813d-4&amp;from=paste&amp;height=705&amp;id=uc56dfac8&amp;originHeight=793&amp;originWidth=1754&amp;originalType=binary&amp;ratio=1.125&amp;rotation=0&amp;showTitle=false&amp;size=85566&amp;status=done&amp;style=none&amp;taskId=u28e426b8-1f5f-4e8f-8080-0c7ac9bd001&amp;title=&amp;width=1559.111111111111" alt="image.png" class="img_ev3q">
show ipv6 route nsm bgp
show bgp ipv6
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1715169050040-cc0d0000-142f-4694-b73f-a270a6b9d4cc.png#averageHue=%23170e05&amp;clientId=u99f4550c-33ce-4&amp;from=paste&amp;height=294&amp;id=uccb60378&amp;originHeight=368&amp;originWidth=1489&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=70624&amp;status=done&amp;style=none&amp;taskId=u91faaef2-46df-4d68-82f5-f4f0b2c2886&amp;title=&amp;width=1191.2" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1715080904735-04ce0361-29ff-404c-808c-ed24e5ffd1ce.png#averageHue=%23060302&amp;clientId=uf9fb7853-3969-4&amp;from=paste&amp;height=588&amp;id=J3N0N&amp;originHeight=808&amp;originWidth=1889&amp;originalType=binary&amp;ratio=1.375&amp;rotation=0&amp;showTitle=false&amp;size=80878&amp;status=done&amp;style=none&amp;taskId=uf2038833-287f-4615-8267-06e83ce3070&amp;title=&amp;width=1373.8181818181818" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9小题">9小题<a href="#9小题" class="hash-link" aria-label="Direct link to 9小题" title="Direct link to 9小题">​</a></h2>
<p>9.利用 BGP MPLS VPN 技术，RT1 与 RT2 以太链路间运行多协议标签交换、标签分发协议。RT1 与 RT2 间创建财务 VPN 实例，名称为 Finance， RT1 的 RD 值为 1:1，export rt 值为 1:2，import rt 值为 2:1；RT2 的 RD 值为 2:2。通过两端 Loopback1 建立 VPN 邻居，分别实现两端 Loopback5 IPv4 互通和 IPv6 互通。
BGP MPLS VPN释义MPLS（Multiprotocol Label Switching，多协议标签交换）<br>
<!-- -->BGP MPLS VPN 是提供商VPN解决方案中一种基于PE的L3VPN技术，它使用BGP在服务提供商骨干网上发布VPN路由，使用MPLS在服务提供商骨干网上转发VPN报文。 BGP/MPLS VPN 组网方式灵活、可扩展性好，并能够方便地支持MPLS QoS和MPLS TE，因此 得到越来越多的应用。
BGP/MPLS VPN 模型由三部分组成：CE、PE和P。
P路由器（Provide Router）：供应商路由器。位于 MPLS 域的内部，P 路由器接收MPLS 报文，交换标签后，输出MPLS 报文。<br>
<!-- -->PE路由器（Provide Edge Router）：供应商边界路由器。位于MPLS域的边界，用于 转换IP报文和MPLS报文。<br>
<!-- -->CE路由器（Customer Edge Router）：用户边界  路由器。位于用户IP域边界，用于汇聚用户数据，并把用户IP域的路由信息转发到PE路由器。</p>
<p>site（站点)： 一个site中的设备可以属于多个VPN，换言之，一个site可以属于多个VPN  ； 一个site可以包含多个CE，但一个CE只属于 一个site。<br>
<!-- -->set（集合）</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">一、全局启用MPLS（必须）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">二、配置VPN实例（必须）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(1) 创建 VPN 实例，并进入 VPN 实例视图</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(2) 配置 VPN 实例的 RD</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(3) 配置 VPN 实例的 RT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(4) 配置 VPN 实例与接口关联</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">三、配置PE-CE间使用EBGP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(1) 配置对端 PE 为公网 VPNv4 邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(2) 进入 BGP-VPN 实例视图</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(3) 将 CE 配置为 VPN 私网邻居</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(4) 发布本端的私网路由</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrf Finance           #新建VPN实例Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> rd 1:1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target export 1:2 #输出目标策略属性配置，与对端交叉配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target import 2:1 #输入目标策略属性配置，与对端交叉配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 vrf Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> rd 1:1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target export 1:2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target import 2:1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int lo5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrf forwarding Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ip address 10.4.5.5 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6 vrf forwarding Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mpls ip   #全局启用mpls</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mpls ldp router-id 10.4.5.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> mpls ip         #在接口下打开mpls功能</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> mpls ldp enable #打开ldp功能</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family vpnv4  --进入vpnv4地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.6.1 activate –激活与RT2的VPNv4邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family vpnv6 –进入VPNV6地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.6.1 activate –激活与RT2的VPNV6邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv4 vrf Finance –进入IPV4 vrf地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.5.5/32  --发布loop5地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 vrf Finance –进入IPV6 VRF地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:5::5/128 —发布loop5地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrf Finance           #新建VPN实例Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> rd 2:2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target export 2:1 #输出目标策略属性配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target import 1:2 #输入目标策略属性配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 vrf Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> rd 2:2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target export 2:1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> route-target import 1:2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int lo5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip vrf forwarding Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ip address 10.4.6.5 255.255.255.255</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6 enable</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ipv6 vrf forwarding Finance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mpls ip   #全局启用mpls</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mpls ldp router-id 10.4.6.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> mpls ip          #打开ldp功能</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router bgp 65002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family vpnv4  --进入vpnv4地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.5.1 activate –激活与RT2的VPNv4邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family vpnv6 –进入VPNV6地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    neighbor 10.4.5.1 activate –激活与RT2的VPNV6邻居关系</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv4 vrf Finance –进入IPV4 vrf地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 10.4.6.5/32  --发布loop5地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  address-family ipv6 vrf Finance –进入IPV6 VRF地址族中</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network 2001:10:4:6::5/128 —发布loop5地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit-address-family</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714633394096-f883043c-df76-4dce-8d48-751f66eb9193.png#averageHue=%23090706&amp;clientId=u0bb62bc1-e74d-4&amp;from=paste&amp;height=322&amp;id=u56880819&amp;originHeight=322&amp;originWidth=1432&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=37673&amp;status=done&amp;style=none&amp;taskId=ub842876f-f8f0-421b-b524-89a204096ce&amp;title=&amp;width=1432" alt="image.png" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.nlark.com/yuque/0/2024/png/33622884/1714633361110-1bbaafa5-2615-4e24-a202-9ca6e54a1bb5.png#averageHue=%23090706&amp;clientId=u0bb62bc1-e74d-4&amp;from=paste&amp;height=323&amp;id=u7d8814c6&amp;originHeight=323&amp;originWidth=1432&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=36617&amp;status=done&amp;style=none&amp;taskId=u463919d3-f78e-4994-9be7-26498c4b73c&amp;title=&amp;width=1432" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10小题待定稿">10小题(待定稿)<a href="#10小题待定稿" class="hash-link" aria-label="Direct link to 10小题(待定稿)" title="Direct link to 10小题(待定稿)">​</a></h2>
<p>RT2 配置 IPv4 NAT，ACL 名称为 ACL-NAT，实现 AC1 IPv4 产品用 RT2 外网接口 IPv4 地址访问 Internet。RT2 配置 NAT64，ACL 名称为 ACL-NAT64，实现 AC1 IPv6 产品用 RT2 外网接口 IPv4 地址访问 Internet，IPv4 地址转 IPv6 地址前缀为 64:ff9b::/96。<br>
<!-- -->NAT、ACL释义NAT：网络地址转换
ACL：访问控制列表</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282923"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282923"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">IPv4 NAT配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip route default GigaEthernet0/2 200.200.200.5  #配置ipv4默认路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip access-list standard ACL-NAT									#建立标准访问控制列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  permit 10.4.140.1 255.255.255.0 sequence 10   #建立规则，允许AC 产品网络通过，规则序列号为10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ip nat inside source list ACL-NAT interface GigaEthernet0/2 #配置内部源地址转换的规则，使用ACL-NAT列表中的源地址进行转换，并通过GigaEthernet0/2接口进行通信。</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/1			</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip nat inside 							#启用内部源地址转换</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/2			</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip nat outside							#启用外部源地址转换</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IPv6 NAT配置</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 route default GigaEthernet0/2							#配置ipv6默认路由</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 access-list ACL-NAT64 #创建一个名为ACL-NAT64的IPv6访问控制列表</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  permit ipv6 2001:10:4:140::/64 64:ff9b::/96 sequence 10 添加一个允许规则，允许来自2001:10:4:140::/64子网的IPv6主机进行访问，并将它们映射到64:FF9B::/96前缀，序列号为10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 access-list ACL-NAT64-any</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">permit ipv6 2001:10:4:140::/64 any sequence 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nat v6v4 source list ACL-NAT64 interface GigaEthernet0/2 #配置IPv6到IPv4的源地址转换的规则，使用ACL-NAT64列表中的源地址进行转换，并通过GigaEthernet0/2接口进行通信</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ipv6 nat prefix 64:ff9b::/96 v4-mapped ACL-NAT64 #配置IPv6前缀转换的规则，将64:FF9B::/96前缀映射到ACL-NAT64列表中的源地址</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/2			</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip nat outside							#启用外部源地址转换</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 nat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface GigaEthernet0/1			</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ip nat inside 							#启用内部源地址转换</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ipv6 nat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/一、网络模块/二、交换配置"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">二、交换配置</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/一、网络模块/四、无线部署"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">四、无线部署</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1小题" class="table-of-contents__link toc-highlight">1小题</a></li><li><a href="#2小题" class="table-of-contents__link toc-highlight">2小题</a></li><li><a href="#3小题" class="table-of-contents__link toc-highlight">3小题</a></li><li><a href="#4小题" class="table-of-contents__link toc-highlight">4小题</a></li><li><a href="#5小题" class="table-of-contents__link toc-highlight">5小题</a><ul><li><a href="#51-area-0-配置" class="table-of-contents__link toc-highlight">5.1 area 0 配置</a></li><li><a href="#52-53-area-1配置" class="table-of-contents__link toc-highlight">5.2-5.3 area 1配置</a></li><li><a href="#54-55-area-2配置" class="table-of-contents__link toc-highlight">5.4-5.5 area 2配置</a></li></ul></li><li><a href="#6小题" class="table-of-contents__link toc-highlight">6小题</a></li><li><a href="#7小题" class="table-of-contents__link toc-highlight">7小题</a></li><li><a href="#8小题" class="table-of-contents__link toc-highlight">8小题</a></li><li><a href="#9小题" class="table-of-contents__link toc-highlight">9小题</a></li><li><a href="#10小题待定稿" class="table-of-contents__link toc-highlight">10小题(待定稿)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 NOTHING. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>